{"version":3,"file":"js/351.6230e6c0.js","mappings":"quBAyBA,MAAMA,GAAUC,EAAAA,EAAAA,IAAI,QACdC,GAAOD,EAAAA,EAAAA,KAAI,GACXE,EAAWC,IACfF,EAAKG,OAAQ,EACbL,EAAQK,MAAQD,EAMhB,IAAIE,EAAUC,SAASC,cAAc,YAEjCC,EAASF,SAASC,cAAe,IAAGJ,KACxCE,EAAQI,SAAS,CAEfC,IAAKF,EAAOG,UAAY,GACxBC,SAAU,UACV,EAEEC,GAAOC,EAAAA,EAAAA,IAAS,CACpB,CACEX,IAAK,OACLY,KAAM,OAER,CACEZ,IAAK,OACLY,KAAM,OAER,CACEZ,IAAK,OACLY,KAAM,OAER,CACEZ,IAAK,OACLY,KAAM,OAER,CACEZ,IAAK,OACLY,KAAM,OAER,CACEZ,IAAK,OACLY,KAAM,OAER,CACEZ,IAAK,OACLY,KAAM,OAER,CACEZ,IAAK,OACLY,KAAM,OAER,CACEZ,IAAK,OACLY,KAAM,OAER,CACEZ,IAAK,QACLY,KAAM,UAIJC,GAAWF,EAAAA,EAAAA,IAAS,IAE1B,IAAIG,EAAK,IAAIC,sBACVC,IAEC,IAAIC,EAAeD,EAAO,GAAGX,OAAOa,GAChCC,EAAUH,EAAO,GAAGI,eAGxB,GAAID,EAAS,CACX,IAAIE,EAASR,EAASS,WAAWC,GAASA,GAAQN,KACnC,GAAXI,GACFR,EAASW,KAAKP,EAElB,KAAO,CACL,IAAIQ,EAAQZ,EAASS,WAAWC,GAASA,GAAQN,KAClC,IAAXQ,GACFZ,EAASa,OAAOD,EAAO,EAE3B,CAEA,GAAI3B,EAAKG,MAAO,OAChB,IAAI0B,EAAS,GACb,IAAK,MAAMJ,KAAQb,EACjB,IAAuD,IAAnDG,EAASS,WAAWtB,GAAQA,IAAQuB,EAAKvB,MAAa,CACxD2B,EAASJ,EAAKvB,IACd,KACF,CAEFJ,EAAQK,MAAQ0B,CAAM,GAExB,CAAEC,UAAW,CAAC,EAAG,IAAM,GAAK,KAG9B,MAAMC,EAAaA,KACjB,IAAK,MAAMN,KAAQb,EAAM,CACvB,IAAIoB,EAAK3B,SAASC,cAAe,IAAGmB,EAAKvB,OACzCa,EAASW,KAAKD,EAAKvB,KACnBc,EAAGiB,QAAQD,EACb,G,OAEFE,EAAAA,EAAAA,KAAU,KACR,IAAI9B,EAAUC,SAASC,cAAc,YACrCF,EAAQ+B,iBAAiB,cAAc,KACrCC,QAAQC,IAAI,KACZrC,EAAKG,OAAQ,CAAK,IAEpB4B,GAAY,I,wPChId,MAAMO,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://doudou-nav/./src/views/test.vue","webpack://doudou-nav/./src/views/test.vue?d447"],"sourcesContent":[" \r\n<template>\r\n  <div class=\"container\">\r\n    <ul class=\"menu\">\r\n      <li v-for=\"item in list\" :key=\"item.key\" :class=\"{ active: item.key == current }\" @click=\"liClick(item.key)\">\r\n        {{ item.name }}\r\n      </li>\r\n    </ul>\r\n    <div class=\"content\">\r\n      <div id=\"key1\">国家1</div>\r\n      <div id=\"key2\">省份2</div>\r\n      <div id=\"key3\">城市3</div>\r\n      <div id=\"key4\">县城4</div>\r\n      <div id=\"key5\">国家5</div>\r\n      <div id=\"key6\">省份6</div>\r\n      <div id=\"key7\">城市7</div>\r\n      <div id=\"key8\">县城8</div>\r\n      <div id=\"key9\">县城9</div>\r\n      <div id=\"key10\">县城10</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { reactive, ref, onMounted } from \"vue\";\r\n// 第一个默认选中的标题\r\nconst current = ref(\"key1\");\r\nconst flag = ref(false);\r\nconst liClick = (key) => {\r\n  flag.value = true;\r\n  current.value = key;\r\n\r\n  /* \r\n  获取到key 然后渠道对应的元素 进行滚动\r\n   */\r\n  // 获取父级容器\r\n  let content = document.querySelector(\".content\");\r\n  debugger\r\n  let target = document.querySelector(`#${key}`);\r\n  content.scrollTo({\r\n    // 距离顶部导航栏的距离\r\n    top: target.offsetTop - 60,\r\n    behavior: \"smooth\",\r\n  });\r\n};\r\nconst list = reactive([\r\n  {\r\n    key: \"key1\",\r\n    name: \"国家1\",\r\n  },\r\n  {\r\n    key: \"key2\",\r\n    name: \"省份2\",\r\n  },\r\n  {\r\n    key: \"key3\",\r\n    name: \"城市3\",\r\n  },\r\n  {\r\n    key: \"key4\",\r\n    name: \"县城4\",\r\n  },\r\n  {\r\n    key: \"key5\",\r\n    name: \"国家5\",\r\n  },\r\n  {\r\n    key: \"key6\",\r\n    name: \"省份6\",\r\n  },\r\n  {\r\n    key: \"key7\",\r\n    name: \"城市7\",\r\n  },\r\n  {\r\n    key: \"key8\",\r\n    name: \"县城8\",\r\n  },\r\n  {\r\n    key: \"key9\",\r\n    name: \"县城9\",\r\n  },\r\n  {\r\n    key: \"key10\",\r\n    name: \"县城10\",\r\n  },\r\n]);\r\n// 所有dom元素的id\r\nconst showKeys = reactive([]);\r\n// -----交叉观察器\r\nlet io = new IntersectionObserver(\r\n  (entrys) => {\r\n    // console.log(\"进入视口--\", entrys[0].target.id);\r\n    let firstInsetId = entrys[0].target.id;\r\n    let isInter = entrys[0].isIntersecting;\r\n    // console.log(11111, isInter);\r\n\r\n    if (isInter) {\r\n      let isFind = showKeys.findIndex((item) => item == firstInsetId);\r\n      if (isFind == -1) {\r\n        showKeys.push(firstInsetId);\r\n      }\r\n    } else {\r\n      let index = showKeys.findIndex((item) => item == firstInsetId);\r\n      if (index !== -1) {\r\n        showKeys.splice(index, 1);\r\n      }\r\n    }\r\n\r\n    if (flag.value) return; //----放开是另一种效果\r\n    let result = \"\";\r\n    for (const item of list) {\r\n      if (showKeys.findIndex((key) => key === item.key) !== -1) {\r\n        result = item.key;\r\n        break;\r\n      }\r\n    }\r\n    current.value = result;\r\n  },\r\n  { threshold: [0, 0.25, 0.5, 1] }\r\n);\r\n\r\nconst startObser = () => {\r\n  for (const item of list) {\r\n    let el = document.querySelector(`#${item.key}`);\r\n    showKeys.push(item.key);\r\n    io.observe(el);\r\n  }\r\n};\r\nonMounted(() => {\r\n  let content = document.querySelector(\".content\");\r\n  content.addEventListener(\"mousewheel\", () => {\r\n    console.log(123);\r\n    flag.value = false;\r\n  });\r\n  startObser();\r\n});\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.container {\r\n  width: 100%;\r\n  height: calc(100vh - 60px);\r\n  background-color: #fff;\r\n  display: flex;\r\n  justify-content: flex-start;\r\n\r\n  .menu {\r\n    margin-right: 5px;\r\n    width: 120px;\r\n    border: 1px solid pink;\r\n    padding: 0;\r\n    margin-bottom: 0;\r\n\r\n    li {\r\n      list-style: none;\r\n      height: 26px;\r\n      line-height: 26px;\r\n      font-size: 16px;\r\n      text-align: center;\r\n      cursor: pointer;\r\n\r\n      &:hover {\r\n        background-color: rgb(211, 14, 100);\r\n      }\r\n    }\r\n\r\n    li.active {\r\n      background-color: rgb(211, 14, 100);\r\n    }\r\n  }\r\n\r\n  .content {\r\n    width: calc(100% - 120px);\r\n    border: 1px solid red;\r\n    overflow-y: auto;\r\n    padding-top: 5px;\r\n\r\n    div {\r\n      height: 200px;\r\n      border: 1px solid rgb(0, 255, 21);\r\n      // margin-bottom: 3px;\r\n    }\r\n  }\r\n}\r\n</style>","import script from \"./test.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./test.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./test.vue?vue&type=style&index=0&id=c0048bdc&lang=less&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c0048bdc\"]])\n\nexport default __exports__"],"names":["current","ref","flag","liClick","key","value","content","document","querySelector","target","scrollTo","top","offsetTop","behavior","list","reactive","name","showKeys","io","IntersectionObserver","entrys","firstInsetId","id","isInter","isIntersecting","isFind","findIndex","item","push","index","splice","result","threshold","startObser","el","observe","onMounted","addEventListener","console","log","__exports__"],"sourceRoot":""}