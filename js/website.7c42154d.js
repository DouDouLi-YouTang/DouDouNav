"use strict";(self["webpackChunkdoudou_nav"]=self["webpackChunkdoudou_nav"]||[]).push([[326],{8684:function(e,l){l.Z={logData:[{time:"08-09",logs:['发现页 <span style="color: #409eff;">样式</span> 调整','发现页新增 <span style="color: #409eff;">点击滚动</span> 效果并实现 <span style="color: #409eff;">全平台适配</span>']},{time:"08-06",logs:['发现页 <span style="color: #409eff;">样式</span> 调整','新增 <span style="color: #409eff;">页面过渡动画</span>']},{time:"08-01",logs:['我的收藏页 <span style="color: #409eff;"> 样式</span> 调整, 右侧菜单栏 <span style="color: #409eff;"> 样式</span> 调整','顶部增加 <span style="color: #409eff;"> 进度条</span> 加载动画']},{time:"07-30",logs:['我的收藏页面新增右侧 <span style="color: #409eff;"> 菜单栏</span> , PC端用户移动鼠标到最右侧即可打开, 移动端请点击右侧箭头','导入导出及发现页面入口均已移入右侧 <span style="color: #409eff;"> 菜单栏</span> ','右侧菜单栏新增 <span style="color: #409eff;"> 重置按钮</span> 及 <span style="color: #409eff;"> 功能介绍</span> ']},{time:"07-23",logs:["更新日志页面, 优化移动端显示效果, 实用网址导航更名为我的收藏","新增更新日志弹窗, 每次更新只弹一次哈",'我的收藏页面新增多个网站, 新增音乐分类, 如果没看到请前往 <span style="color:#00C9A7;"> 发现</span> 页面查看','我的收藏页面新增（导入 <span style="color:#dcdfe6">|</span> 导出 ）功能, 你现在可以备份自己的收藏啦','新增 <span style="color:#00C9A7;"> 发现</span> 页面(正在开发中), PC端用户将鼠标放在编辑按钮上就能看见啦','移动端用户请 <span onclick="window.open(\'/#/findView\')" style="color:#409eff;cursor: pointer;"> 点击此处</span> 访问 <span style="color:#00C9A7;"> 发现</span> 页面']},{time:"07-16",logs:['网址导航页面新增分类自定义（编辑 <span style="color:#dcdfe6">|</span> 删除 <span style="color:#dcdfe6">|</span> 新增 <span style="color:#dcdfe6">|</span> 排序）按钮','网址导航页面新增分类自定义（删除 <span style="color:#dcdfe6">|</span> 编辑 <span style="color:#dcdfe6">|</span> 添加 <span style="color:#dcdfe6">|</span> 排序）功能',"网址导航页面网页模块样式调整","网址导航页面网页模块新增（排序）功能",'网址导航页面优化（删除 <span style="color:#dcdfe6">|</span> 编辑 <span style="color:#dcdfe6">|</span> 添加）提示信息',"网址导航页面新增编辑模式动画效果"]},{time:"07-10",logs:['网站图标更换, 贡献者：<span style="color: #409eff;">小萧</span>',"网址导航页面, 修复文字溢出问题"]},{time:"07-09",logs:["网址导航页面新增（编辑模式）按钮","网址导航页面新增网站自定义添加功能","新增AI工具分类（如果没看到请点击上方重置按钮）","网址导航页面样式调整","编辑弹窗新增自动获取网页图标功能","网站图标形状更改为圆形"]},{time:"07-08",logs:["网址导航页面, 分类标题样式调整"]},{time:"07-07",logs:['网址导航页面, 新增（编辑 <span style="color:#dcdfe6">|</span> 删除）功能 <span style="color:#409eff;"> 数据只保存在本地</span> ',"修复某些网站失效问题","修复网页刷新后页面空白问题"]},{time:"06-27",logs:["优化移动端显示效果"]},{time:"06-25",logs:["新增更新日志页面","优化网站导航页编辑按钮位置"]},{time:"06-24",logs:["网址导航页面,网页模块样式调整",'网址导航页面,新增（编辑 <span style="color:#dcdfe6">|</span> 删除）按钮',"编辑功能已完成80%(已完成表单验证)","修复某些网站失效问题"]},{time:"06-22",logs:["网址导航页面,网页模块样式调整","网址导航新增 <b>Chat-Gpt</b> 分类"]},{time:"06-21",logs:['解决国内访问缓慢问题, 并将网站网址更换为 <span style="color: #409eff;"> https://doudounav.4everland.app</span>']},{time:"06-18",logs:["新增网站导航页",'完成网站导航页（样式 <span style="color:#dcdfe6">|</span> 动画）',"网站导航页新增多个分类","解决顶部导航栏着色问题","将全局字体更换为 <b>MiSans</b>","适配移动端"]},{time:"06-11",logs:["兜兜的导航项目正式启动","完成首页文字轮播",'完成首页（样式 <span style="color:#dcdfe6">|</span> 动画）','项目正式上线 <b>GitHub</b> 访问地址为: <span style="color: #409eff;">https://doudouli-youtang.github.io/DouDouNav</span>',"解决移动端点击图标无法跳转问题"]}]}},3556:function(e,l,t){t.r(l),t.d(l,{default:function(){return Ve}});var a=t(3396),s=t(2268),o=t(9242),n=t(4870),i=t(6666),u=t(6e3),d=t(7178),r=t(2483),c=t(7139),p=t(2049),m=t(3413),f=t(8684),v=t(5743),g=t.n(v),w=t(5631);const y=e=>((0,a.dD)("data-v-5099ef01"),e=e(),(0,a.Cn)(),e),_={class:"Sidebar"},b={class:"setUp"},k={class:"tbas_head"},h={class:"tbasLeft"},x=["onClick"],W=["innerHTML"],D={class:"tbasRight"},C={class:"tbasRight_body"},U={key:0},H={key:1},B=y((()=>(0,a._)("div",{class:"tbasRight_Box ncolor"}," 目前正在开发 ",-1))),V={class:"tbasRight_Box"},T={key:2},S=y((()=>(0,a._)("div",{class:"tbasRight_Box ncolor"}," 将配置以文件形式保存在您的设备上 ",-1))),L={class:"tbasRight_Box"},j=y((()=>(0,a._)("div",{class:"tbasRight_Box ncolor"}," 还原之前的备份 ",-1))),z={class:"tbasRight_Box"},I=y((()=>(0,a._)("div",{class:"tbasRight_Box ncolor"},[(0,a.Uk)(" 重置之后页面数据将与"),(0,a._)("span",{style:{color:"#409eff"}},"发现"),(0,a.Uk)("页面保持同步 ")],-1))),M={key:3},R=y((()=>(0,a._)("div",{class:"tbasRight_Box ncolor"}," 联系我 ",-1))),q={class:"tbasRight_Box2"},A=(0,a.uE)('<div class="tbasRight_Box qq" data-v-5099ef01><svg class="icon" aria-hidden="true" data-v-5099ef01><use xlink:href="#icon-QQ" data-v-5099ef01></use></svg> QQ </div><div class="tbasRight_Box weixin" data-v-5099ef01><svg class="icon" aria-hidden="true" data-v-5099ef01><use xlink:href="#icon-weixin" data-v-5099ef01></use></svg> 微信 </div>',2),O={class:"icon",style:{width:"14px"},"aria-hidden":"true"},F=y((()=>(0,a._)("use",{"xlink:href":"#icon-github"},null,-1))),N=[F],Y=y((()=>(0,a._)("span",null," Github ",-1))),$={class:"tipArrow"};var E={__name:"Siderbar",emits:["backup","restore","findDrawer"],setup(e){const l=(0,c.oR)(),t=(0,n.iH)(null),o=(0,n.iH)(1),i=(0,n.iH)(40*o.value+"px");function r(e){o.value=e,i.value=40*e+"px",f.value=m[e]}let m=[{title:"设置",Introduction:"暂无内容",icon:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" data-v-ea893728=""><path fill="currentColor" d="M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36-116.224-25.088-65.28 113.152 79.68 88.192-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136-79.808 88.192 65.344 113.152 116.224-25.024 22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152 24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296 116.288 25.024 65.28-113.152-79.744-88.192 1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136 79.808-88.128-65.344-113.152-116.288 24.96-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384 192 192 0 0 1 0-384zm0 64a128 128 0 1 0 0 256 128 128 0 0 0 0-256z"></path></svg>'},{title:"发现",Introduction:"该页面正在开发中",icon:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" data-v-ea893728=""><path fill="currentColor" d="M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"></path><path fill="currentColor" d="M725.888 315.008C676.48 428.672 624 513.28 568.576 568.64c-55.424 55.424-139.968 107.904-253.568 157.312a12.8 12.8 0 0 1-16.896-16.832c49.536-113.728 102.016-198.272 157.312-253.632 55.36-55.296 139.904-107.776 253.632-157.312a12.8 12.8 0 0 1 16.832 16.832z"></path></svg>'},{title:"备份与恢复",Introduction:"可以在这里备份或恢复您的配置",icon:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" data-v-ea893728=""><path fill="currentColor" d="M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm160 448h384v64H320v-64zm0-192h160v64H320v-64zm0 384h384v64H320v-64z"></path></svg>'},{title:"关于",Introduction:"如果有什么建议或想法欢迎联系我",icon:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" data-v-ea893728=""><path fill="currentColor" d="M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"></path></svg>'}];const f=(0,n.iH)(m[o.value]),v=function(){u.T.confirm('<p>你确定要重置全部数据吗?\n        </br><span style="color:red">注意！此操作会删除所有本地数据！</span>\n      </p>',"警告",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0}).then((async()=>{const e=JSON.parse(JSON.stringify(w.Z.webArry));l.commit("setData",e);const t="DouDouDB";p.ZP.deleteDBAll(t),(0,d.z8)({message:"数据重置成功",type:"success"})})).catch((()=>{}))};function g(){window.open("https://github.com/DouDouLi-YouTang")}return(e,l)=>{const u=(0,a.up)("CaretLeft"),d=(0,a.up)("el-icon");return(0,a.wg)(),(0,a.iD)("div",_,[(0,a._)("div",b,[(0,a._)("div",{class:"tbas",ref_key:"tbas",ref:t},[(0,a._)("div",k,[(0,a._)("p",null,(0,s.zw)(f.value.title),1),(0,a._)("span",null,(0,s.zw)(f.value.Introduction??"暂无内容"),1)]),(0,a._)("div",h,[(0,a._)("div",{class:"tbasLeft_activeBar",style:(0,s.j5)({transform:`translateY(${i.value})`})},null,4),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,n.SU)(m),((e,l)=>((0,a.wg)(),(0,a.iD)("div",{class:"tbasLeftBox",style:(0,s.j5)({color:o.value==l?"#409eff":"#303133"}),onClick:e=>r(l)},[(0,a._)("div",{class:"tbasLeftBox_icon",innerHTML:e.icon},null,8,W),(0,a.Uk)(" "+(0,s.zw)(e.title),1)],12,x)))),256))]),(0,a._)("div",D,[(0,a._)("div",C,[0==o.value?((0,a.wg)(),(0,a.iD)("div",U," 暂无内容 ")):(0,a.kq)("",!0),1==o.value?((0,a.wg)(),(0,a.iD)("div",H,[B,(0,a._)("div",V,[(0,a._)("span",{class:"btn",onClick:l[0]||(l[0]=l=>e.$emit("findDrawer"))}," 前往发现页面 ")])])):(0,a.kq)("",!0),2==o.value?((0,a.wg)(),(0,a.iD)("div",T,[S,(0,a._)("div",L,[(0,a._)("span",{class:"btn",onClick:l[1]||(l[1]=l=>e.$emit("backup"))}," 导出 ")]),j,(0,a._)("div",z,[(0,a._)("span",{class:"btn",onClick:l[2]||(l[2]=l=>e.$emit("restore"))}," 恢复 ")]),I,(0,a._)("div",{class:"tbasRight_Box btn_center"},[(0,a._)("span",{onClick:v}," 重置所有数据 ")])])):(0,a.kq)("",!0),3==o.value?((0,a.wg)(),(0,a.iD)("div",M,[R,(0,a._)("div",q,[A,(0,a._)("div",{class:"tbasRight_Box gthub",onClick:g},[((0,a.wg)(),(0,a.iD)("svg",O,N)),Y])])])):(0,a.kq)("",!0)])])],512)]),(0,a._)("div",$,[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u)])),_:1})])])}}},K=t(89);const J=(0,K.Z)(E,[["__scopeId","data-v-5099ef01"]]);var Z=J;const P=e=>((0,a.dD)("data-v-5b1e75f9"),e=e(),(0,a.Cn)(),e),G={key:0,class:"website-left"},Q=["onClick"],X={key:0,class:"website-left-box-edit"},ee={class:"el-dropdown-link"},le={class:"website-left-add"},te=P((()=>(0,a._)("div",{style:{height:"40px"}},null,-1))),ae={class:"website-right-box"},se=["id"],oe={class:"website-right-title-box"},ne={class:"box"},ie={key:0,class:"jianjie"},ue=["href"],de={class:"webUrl"},re=["src"],ce={key:1,class:"bianji"},pe={class:"el-dropdown-link"},me={class:"webBox"},fe=P((()=>(0,a._)("div",{class:"jianjie"},"点击新增",-1))),ve=["onClick"],ge={class:"webBox"},we={key:0,class:"jianjie"},ye={class:"webUrl"},_e=["src"],be={class:"dialog-footer"},ke=P((()=>(0,a._)("span",{class:"iconfont handle"},"",-1))),he={class:"log"},xe={key:0},We=["innerHTML"],De=P((()=>(0,a._)("div",{class:"el-upload__text"},[(0,a.Uk)(" 将文件拖动到此处或 "),(0,a._)("em",null,"点击上传")],-1))),Ce=P((()=>(0,a._)("div",{class:"el-upload__tip"}," 只能导入后缀为.txt的文件 ",-1))),Ue=1691593194871;var He={__name:"WebsiteView",setup(e){const l=(0,c.oR)(),t=(0,r.tv)();l.dispatch("createData");const v=f.Z.logData,w=(0,n.iH)(!1);let y=JSON.parse(localStorage.getItem("oldTime"));function _(){t.push("./updatalog"),localStorage.setItem("menuid",JSON.stringify("updatalog"))}(0,a.bv)((()=>{(!y||Ue>y)&&(w.value=!0,y=(new Date).getTime(),localStorage.setItem("oldTime",JSON.stringify(y)))}));const b=(0,a.Fl)((()=>l.state.webArry));(0,a.m0)((()=>{1==b.value.length&&0==b.value[0].childers.length&&(0,i.bM)({title:"提示",message:'<span style="color:#F56C6C;">检测到当前分类子项为空，如需添加请点击右下方编辑按钮新增</span>',dangerouslyUseHTMLString:!0,duration:0})}));const k=(0,a.Fl)((()=>l.getters.getmessage)),h=(0,n.iH)(null),x=(0,n.iH)(!1),W=(0,n.iH)(""),D=(0,n.iH)(!1),C=(0,n.iH)(!1),U=(0,n.iH)(!1),H=(0,n.iH)(window.innerWidth),B=(0,n.iH)(!1),V=(0,n.iH)(!1);function T(){window.open("/#/findView")}const S=(0,n.iH)(!1),L=(0,n.iH)(null);function j(){const e=g()().format("YYYY-MM-DD HH:mm"),l=`我的备份 ${e}.txt`,t=JSON.stringify(b.value),a=new Blob([t],{type:"text/plain"}),s=URL.createObjectURL(a),o=document.createElement("a");o.href=s,o.download=l,o.click(),URL.revokeObjectURL(s),(0,i.bM)({title:"备份导出成功",type:"success",message:'<span style="color:#F56C6C;">如果看不懂,请不要对文件进行修改,以免导致后续导入失败!</span>',dangerouslyUseHTMLString:!0,duration:1e4,position:"top-left"})}function z(e){let t="";function a(e){try{return JSON.parse(e),!0}catch(l){return!1}}if("text/plain"==e.type){S.value=!1;const s=new FileReader;s.onload=s=>{const o=a(s.target.result)?JSON.parse(s.target.result):void 0;t=o,o?u.T.confirm(`你确定要导入名为 <span style="color:#F56C6C;">${e.name}</span> 的备份文件吗?</br>\n          <span style="color:#F56C6C;">注意此操作会覆盖目前所有内容!</span> \n          `,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",dangerouslyUseHTMLString:!0}).then((()=>{S.value=!1,l.commit("setData",t),E(),(0,i.bM)({title:"文件导入成功",type:"success",message:"备份恢复完成",dangerouslyUseHTMLString:!0,duration:5e3})})).catch((()=>{(0,i.bM)({title:"提示",type:"info",message:"用户取消导入",dangerouslyUseHTMLString:!0,duration:5e3}),S.value=!0})):(0,i.bM)({title:"导入错误",type:"error",message:"文件解析失败,请检查文件是否损坏或联系站长修复!",dangerouslyUseHTMLString:!0,duration:5e3})},s.readAsText(e)}else(0,i.bM)({title:"文件类型错误",type:"error",message:'只能导入后缀为 <span style="color:#409eff">.txt</span> 的文件,请重新选择',dangerouslyUseHTMLString:!0,duration:5e3});return!1}window.test=L,(0,a.m0)((()=>{H.value<500?U.value=!1:U.value=!0})),window.addEventListener("resize",(()=>{H.value=window.innerWidth}));const I=(0,n.qj)({});(0,a.m0)((()=>{I.selectData=b.value.map((e=>({title:e.title,value:e.key})))}));const M=(0,n.iH)(null),R=(e,l,t)=>{const a=/^((https|http|ftp|rtsp|mms)?:\/\/)[^\s]+/;""===l||a.test(l)?t():t(new Error("请输入正确的网址"))},q=(0,n.qj)({title:{required:!0,message:"请输入网站名称",trigger:"blur"},url:[{required:!0,message:"请输入网页地址",trigger:"blur"},{validator:R,trigger:"blur"}],imgUrl:[{validator:R,trigger:"blur"}]}),A=function(e,l,t){x.value=!0,W.value="edit",I.metaDataId=l.metaDataId,I.sort=e.key,I.title=l.webName,I.url=l.url,I.jianjie=l.jianjie,I.imgUrl=l.imgUrl},O=function(e){x.value=!0,W.value="add",I.sort=e.key,I.metaDataId=(new Date).getTime(),I.imgUrl=""};function F(){Object.keys(I).forEach((e=>{"selectData"!=e&&delete I[e]}));const e=document.getElementById("dailogImg");e.onload=null,e.onerror=null}const N=function(){M.value.validate((e=>{e?("edit"==W.value?l.commit("editData",I):l.commit("addData",I),(0,d.z8)({message:k.value.message,type:k.value.type}),"success"==k.value.type&&(x.value=!1,E())):console.log("验证失败")}))},Y=function(e,t,a){u.T.confirm(`你确定要删除 <span style="color:#ec4141">${e.title}</span> 分类下的 <span style="color:#ec4141">${t.webName}</span> 吗?`,"警告",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,confirmButtonClass:"deleteButton"}).then((()=>{const a={key:e.key,metaDataId:t.metaDataId};l.commit("delData",a),(0,d.z8)({message:k.value.message,type:k.value.type}),"success"==k.value.type&&E()})).catch((()=>{}))};function $(){const e=/^((https|http|ftp|rtsp|mms)?:\/\/)[^\s]+/;if(e.test(I.url)){const e=new URL(I.url);I.imgUrl!=e.origin+"/favicon.ico"&&0==D.value&&(D.value=!0),I.imgUrl=e.origin+"/favicon.ico";const l=document.getElementById("dailogImg");l.onload=function(){""!=I.imgUrl&&(0,i.bM)({title:"成功",message:"图标获取成功!",type:"success"}),D.value=!1},l.onerror=function(){(0,i.bM)({title:"错误",message:"图标获取失败!",type:"error"}),I.imgUrl="",D.value=!1}}else(0,d.z8)({message:"请输入正确的网址",type:"error"})}async function E(){const e="DouDouDB",l="website",t=await p.ZP.openDB(e,l,1),a={id:1,data:JSON.stringify(b.value)};p.ZP.updateDB(t,l,a)}const K=(0,n.qj)({}),J=(0,n.iH)(null),P=(0,n.qj)({title:{required:!0,message:"请输入标题名称",trigger:"blur"}});function He(e,l){K.type=e,"add"==K.type?K.key=(new Date).getTime():(K.key=l.key,K.title=l.title),V.value=!0}function Be(e){u.T.confirm(`你确定要删除 <span style="color:#ec4141">${e.title}</span> 这个分类吗?  </br>\n    警告：该操作会删除 <span style="color:#ec4141">${e.title}</span> 分类下的所有内容！\n    `,"警告",{type:"warning",confirmButtonText:"删除",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,confirmButtonClass:"deleteButton"}).then((()=>{const t=e.key;l.commit("sortDel",t),(0,d.z8)({message:k.value.message,type:k.value.type}),"success"==k.value.type&&E()})).catch((()=>{}))}function Ve(){J.value.validate((e=>{e&&("edit"==K.type?l.commit("editSort",K):l.commit("addSort",K),(0,d.z8)({message:k.value.message,type:k.value.type}),"success"==k.value.type&&(V.value=!1,E()))}))}function Te(){Object.keys(K).forEach((e=>delete K[e]))}let Se,Le={list:[],sortKey:"",type:""};function je(e,l){Le.type=e,Le.sortKey=l.key,Le.list="web"==e?l.childers.map((e=>({name:e.webName,id:e.metaDataId}))):b.value.map((e=>({name:e.title,id:e.key}))),B.value=!0}const ze=()=>{if(!Se){let e=document.querySelector(".el-table__body-wrapper tbody");Se=m.ZP.create(e,{group:{name:"words",pull:!0,put:!0},handle:".handle",animation:150,onAdd(e){},onUpdate(e){},onRemove(e){},onStart:function(e){},onSort(e){},onEnd(e){if(e.oldIndex!==e.newIndex){let l,t,a=b.value.findIndex((e=>e.key==Me.value));"web"==Le.type?(l=b.value.findIndex((e=>e.key==Le.sortKey)),-1!=l?(t=b.value[l].childers.splice(e.oldIndex,1)[0],b.value[l].childers.splice(e.newIndex,0,t),(0,d.z8)({message:"排序保存成功!",type:"success"}),E()):(0,d.z8)({message:"获取分类名称索引值失败!",type:"error"})):(t=b.value.splice(e.oldIndex,1)[0],b.value.splice(e.newIndex,0,t),Me.value=b.value[a].key,(0,d.z8)({message:"排序保存成功!",type:"success"}),E())}}})}},Ie=(0,n.iH)(null),Me=(0,n.iH)(),Re=(0,n.iH)(!1),qe=e=>{Re.value=!0,Me.value=e;let l=document.querySelector(`#${e}`);Ie.value.scrollTo({top:l.offsetTop-40,behavior:"smooth"})},Ae=(0,n.qj)([]);let Oe=new IntersectionObserver((e=>{let l=e[0].target.id,t=e[0].isIntersecting;if(t){let e=Ae.findIndex((e=>e==l));-1==e&&Ae.push(l)}else{let e=Ae.findIndex((e=>e==l));-1!==e&&Ae.splice(e,1)}if(Re.value)return;let a="";for(const s of b.value)if(-1!==Ae.findIndex((e=>e===s.key))){a=s.key;break}Me.value=a}),{threshold:[0,.25,.5,1]});const Fe=()=>{for(const e of b.value){let l=document.querySelector(`#${e.key}`);Ae.push(e.key),Oe.observe(l)}};return(0,a.bv)((()=>{let e=document.querySelector(".website-right-box");e.addEventListener("mousewheel",(()=>{Re.value=!1})),setTimeout((()=>{"#/homeson/website"==window.location.hash&&Fe()}),500)})),(0,a.Ah)((()=>{Oe.disconnect()})),(e,l)=>{const t=(0,a.up)("More"),i=(0,a.up)("el-icon"),u=(0,a.up)("Edit"),d=(0,a.up)("el-dropdown-item"),r=(0,a.up)("Switch"),c=(0,a.up)("Delete"),p=(0,a.up)("el-dropdown-menu"),m=(0,a.up)("el-dropdown"),f=(0,a.up)("Plus"),g=(0,a.up)("el-scrollbar"),y=(0,a.up)("el-aside"),k=(0,a.up)("el-main"),H=(0,a.up)("el-container"),R=(0,a.up)("el-divider"),E=(0,a.up)("el-option"),Ue=(0,a.up)("el-select"),Se=(0,a.up)("el-form-item"),Re=(0,a.up)("el-input"),Ae=(0,a.up)("el-button"),Oe=(0,a.up)("el-form"),Fe=(0,a.up)("el-dialog"),Ne=(0,a.up)("el-table-column"),Ye=(0,a.up)("el-table"),$e=(0,a.up)("upload-filled"),Ee=(0,a.up)("el-upload");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(H,{class:"webSiteBox",ref_key:"divDom",ref:h},{default:(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[b.value.length?((0,a.wg)(),(0,a.iD)("div",G,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(b.value,((e,l)=>((0,a.wg)(),(0,a.iD)("div",{class:"website-left-box",key:l},[(0,a._)("div",{class:(0,s.C_)({active:e.key==Me.value}),onClick:l=>qe(e.key),style:(0,s.j5)({paddingRight:C.value?"20px":"0"})},[(0,a.Uk)((0,s.zw)(e.title)+" ",1),C.value?((0,a.wg)(),(0,a.iD)("div",X,[(0,a.Wm)(m,{trigger:"click"},{dropdown:(0,a.w5)((()=>[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,{onClick:l=>He("edit",e)},{default:(0,a.w5)((()=>[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u)])),_:1}),(0,a.Uk)("编辑")])),_:2},1032,["onClick"]),(0,a.Wm)(d,{onClick:l=>je("sort",e)},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{style:{transform:"rotate(90deg)"}},{default:(0,a.w5)((()=>[(0,a.Wm)(r)])),_:1}),(0,a.Uk)("排序 ")])),_:2},1032,["onClick"]),(0,a.Wm)(d,{style:{color:"#F56C6C"},onClick:l=>Be(e)},{default:(0,a.w5)((()=>[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c)])),_:1}),(0,a.Uk)("删除 ")])),_:2},1032,["onClick"])])),_:2},1024)])),default:(0,a.w5)((()=>[(0,a._)("span",ee,[(0,a.Wm)(i,{class:"on-inline"},{default:(0,a.w5)((()=>[(0,a.Wm)(t)])),_:1})])])),_:2},1024)])):(0,a.kq)("",!0)],14,Q)])))),128)),(0,a.Wm)(o.uT,{name:"bounce"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("div",{class:"website-left-box",onClick:l[0]||(l[0]=e=>He("add"))},[(0,a._)("p",le,[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.Wm)(f)])),_:1})])],512),[[o.F8,C.value]])])),_:1})])):(0,a.kq)("",!0)])),_:1})])),_:1}),(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[(0,a.Wm)(g,{ref_key:"scrollbarRef",ref:Ie},{default:(0,a.w5)((()=>[te,(0,a._)("div",ae,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(b.value,((e,l)=>((0,a.wg)(),(0,a.iD)("div",{class:"website-right-title",key:l,id:e.key},[(0,a._)("div",oe,[(0,a._)("h2",null,(0,s.zw)(e.title),1)]),(0,a._)("div",ne,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.childers,((l,o)=>((0,a.wg)(),(0,a.iD)("div",{class:"webBox",key:o},[l.jianjie?((0,a.wg)(),(0,a.iD)("div",ie,(0,s.zw)(l.jianjie),1)):(0,a.kq)("",!0),(0,a._)("a",{href:l.url,target:"_blank"},[(0,a._)("div",de,[(0,a._)("img",{src:l.imgUrl?l.imgUrl:"https://img.bidianer.com/image/icon/empty.svg"},null,8,re),(0,a._)("div",null,(0,s.zw)(l.webName),1)])],8,ue),U.value?((0,a.wg)(),(0,a.iD)("div",ce,[(0,a.Wm)(m,{trigger:"click"},{dropdown:(0,a.w5)((()=>[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,{onClick:t=>A(e,l,o)},{default:(0,a.w5)((()=>[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u)])),_:1}),(0,a.Uk)("编辑 ")])),_:2},1032,["onClick"]),(0,a.Wm)(d,{onClick:l=>je("web",e)},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{style:{transform:"rotate(90deg)"}},{default:(0,a.w5)((()=>[(0,a.Wm)(r)])),_:1}),(0,a.Uk)("排序 ")])),_:2},1032,["onClick"]),(0,a.Wm)(d,{style:{color:"#F56C6C"},onClick:t=>Y(e,l,o)},{default:(0,a.w5)((()=>[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c)])),_:1}),(0,a.Uk)("删除 ")])),_:2},1032,["onClick"])])),_:2},1024)])),default:(0,a.w5)((()=>[(0,a._)("span",pe,[(0,a.Wm)(i,{class:"on-inline"},{default:(0,a.w5)((()=>[(0,a.Wm)(t)])),_:1})])])),_:2},1024)])):(0,a.kq)("",!0)])))),128)),(0,a.Wm)(o.uT,{name:"bounce"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("div",me,[fe,(0,a._)("p",{onClick:l=>O(e)},[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.Wm)(f)])),_:1})],8,ve)],512),[[o.F8,C.value]])])),_:2},1024)])],8,se)))),128))])])),_:1},512)])),_:1})])),_:1},512),U.value?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"editMode",onClick:l[1]||(l[1]=e=>C.value=!C.value)},[(0,a.Wm)(i,{class:"editText","aria-expanded":!1},{default:(0,a.w5)((()=>[(0,a.Wm)(u)])),_:1})])):(0,a.kq)("",!0),(0,a.Wm)(Z,{onBackup:j,onRestore:l[2]||(l[2]=e=>S.value=!S.value),onFindDrawer:T}),(0,a.Wm)(Fe,{modelValue:x.value,"onUpdate:modelValue":l[9]||(l[9]=e=>x.value=e),title:"edit"==W.value?"修改":"新增",width:"500",class:"tanceng",style:{"border-radius":"5px"},onClose:F},{footer:(0,a.w5)((()=>[(0,a._)("span",be,[(0,a.Wm)(Ae,{onClick:l[8]||(l[8]=e=>x.value=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)("取消")])),_:1}),(0,a.Wm)(Ae,{type:"primary",onClick:N,disabled:D.value},{default:(0,a.w5)((()=>[(0,a.Uk)(" 确定 ")])),_:1},8,["disabled"])])])),default:(0,a.w5)((()=>[(0,a._)("div",(0,a.dG)({class:"box"},I),[(0,a._)("div",ge,[I.jianjie?((0,a.wg)(),(0,a.iD)("div",we,(0,s.zw)(I.jianjie),1)):(0,a.kq)("",!0),(0,a._)("a",null,[(0,a._)("div",ye,[(0,a._)("img",{id:"dailogImg",src:I.imgUrl?I.imgUrl:"https://img.bidianer.com/image/icon/empty.svg"},null,8,_e),(0,a._)("div",null,(0,s.zw)(I.title),1)])])])],16),(0,a.Wm)(R,{style:{"margin-top":"10px"}}),(0,a.Wm)(Oe,{"label-width":"100px",rules:q,ref_key:"ruleFormRef",ref:M,model:I,style:{"max-width":"460px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(Se,{label:"分类"},{default:(0,a.w5)((()=>[(0,a.Wm)(Ue,{disabled:"edit"==W.value,modelValue:I.sort,"onUpdate:modelValue":l[3]||(l[3]=e=>I.sort=e),placeholder:"请选择一个分类"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(I.selectData,((e,l)=>((0,a.wg)(),(0,a.j4)(E,{key:l,label:e.title,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["disabled","modelValue"])])),_:1}),(0,a.Wm)(Se,{label:"网站名称",prop:"title"},{default:(0,a.w5)((()=>[(0,a.Wm)(Re,{modelValue:I.title,"onUpdate:modelValue":l[4]||(l[4]=e=>I.title=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(Se,{label:"简介"},{default:(0,a.w5)((()=>[(0,a.Wm)(Re,{modelValue:I.jianjie,"onUpdate:modelValue":l[5]||(l[5]=e=>I.jianjie=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(Se,{label:"网页地址",prop:"url"},{default:(0,a.w5)((()=>[(0,a.Wm)(Re,{modelValue:I.url,"onUpdate:modelValue":l[6]||(l[6]=e=>I.url=e)},{append:(0,a.w5)((()=>[(0,a.Wm)(Ae,{type:"primary",onClick:$},{default:(0,a.w5)((()=>[(0,a.Uk)("获取网页图标")])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(Se,{label:"网页图标地址",prop:"imgUrl"},{default:(0,a.w5)((()=>[(0,a.Wm)(Re,{clearable:"",modelValue:I.imgUrl,"onUpdate:modelValue":l[7]||(l[7]=e=>I.imgUrl=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["rules","model"])])),_:1},8,["modelValue","title"]),(0,a.Wm)(Fe,{modelValue:B.value,"onUpdate:modelValue":l[10]||(l[10]=e=>B.value=e),title:"排序(拖动)",width:"300",class:"sortDialogs",onOpened:ze},{default:(0,a.w5)((()=>[(0,a.Wm)(Ye,{id:"table",data:(0,n.SU)(Le).list,"row-key":"id",style:{width:"300px"},border:"",height:"300","show-overflow-tooltip":""},{default:(0,a.w5)((()=>[(0,a.Wm)(Ne,{label:"排序",width:"60",align:"center"},{default:(0,a.w5)((e=>[ke])),_:1}),(0,a.Wm)(Ne,{prop:"name",label:"名称"})])),_:1},8,["data"])])),_:1},8,["modelValue"]),(0,a.Wm)(Fe,{class:"sortDialog",modelValue:V.value,"onUpdate:modelValue":l[13]||(l[13]=e=>V.value=e),title:"edit"==K.type?"修改分类名称":"新增分类",width:"500",onClose:Te},{footer:(0,a.w5)((()=>[(0,a._)("span",null,[(0,a.Wm)(Ae,{onClick:l[12]||(l[12]=e=>V.value=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)("取消")])),_:1}),(0,a.Wm)(Ae,{type:"primary",onClick:Ve},{default:(0,a.w5)((()=>[(0,a.Uk)(" 确定 ")])),_:1})])])),default:(0,a.w5)((()=>[(0,a.Wm)(Oe,{model:K,ref_key:"sortFormRule",ref:J,rules:P,"label-width":"120px"},{default:(0,a.w5)((()=>[(0,a.Wm)(Se,{label:"分类名称",prop:"title"},{default:(0,a.w5)((()=>[(0,a.Wm)(Re,{clearable:"",modelValue:K.title,"onUpdate:modelValue":l[11]||(l[11]=e=>K.title=e),placeholder:"请输入分类名称"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"]),(0,a.Wm)(Fe,{modelValue:w.value,"onUpdate:modelValue":l[15]||(l[15]=e=>w.value=e),title:"近期更新",class:"upDataLogDiaLog",width:"500","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},{footer:(0,a.w5)((()=>[(0,a._)("span",null,[(0,a.Wm)(Ae,{type:"warning",onClick:l[14]||(l[14]=e=>w.value=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)("我知道啦")])),_:1}),(0,a.Wm)(Ae,{type:"primary",onClick:_},{default:(0,a.w5)((()=>[(0,a.Uk)(" 查看更多更新日志 ")])),_:1})])])),default:(0,a.w5)((()=>[(0,a._)("div",he,[(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,n.SU)(v),((e,l)=>((0,a.wg)(),(0,a.iD)("div",{class:"log-box",key:l},[0==l?((0,a.wg)(),(0,a.iD)("ul",xe,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.logs,((e,l)=>((0,a.wg)(),(0,a.iD)("li",{key:l},[(0,a._)("span",{innerHTML:e},null,8,We)])))),128))])):(0,a.kq)("",!0)])))),128))])),_:1})])])),_:1},8,["modelValue"]),(0,a.Wm)(Fe,{modelValue:S.value,"onUpdate:modelValue":l[16]||(l[16]=e=>S.value=e),title:"导入",ref_key:"importDialogDome",ref:L},{default:(0,a.w5)((()=>[(0,a.Wm)(Ee,{class:"upload-demo",drag:"",action:"#","before-upload":z,accept:".txt"},{tip:(0,a.w5)((()=>[Ce])),default:(0,a.w5)((()=>[(0,a.Wm)(i,{class:"el-icon--upload"},{default:(0,a.w5)((()=>[(0,a.Wm)($e)])),_:1}),De])),_:1},8,["accept"])])),_:1},8,["modelValue"])],64)}}};const Be=(0,K.Z)(He,[["__scopeId","data-v-5b1e75f9"]]);var Ve=Be}}]);
//# sourceMappingURL=website.7c42154d.js.map