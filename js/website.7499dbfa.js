"use strict";(self["webpackChunkdoudou_nav"]=self["webpackChunkdoudou_nav"]||[]).push([[326],{8684:function(e,l){l.Z={logData:[{time:"10-18",logs:['修复首页 <span style="color: #409eff;">进入按钮</span> 点击多次后跳转网址错误',"其他Bug修复","菜单栏新增宽度设置(勉强能用)",'我的收藏页从原来的默认 <span style="color: #409eff;">一行四列</span> 改为默认 <span style="color: #409eff;">一行五列</span> ']},{time:"08-13",logs:['我的收藏页 <span style="color: #409eff;">样式</span> 调整','我的收藏页新增 <span style="color: #409eff;">单击高亮</span> 功能','我的收藏页实现 <span style="color: #409eff;">全平台适配</span> 编辑功能移动端暂未开放','发现页新增 <span style="color: #409eff;">添加到收藏</span> 功能,现在可以一键添加到我的收藏啦','发现页新增 <span style="color: #409eff;">单击高亮</span> 功能']},{time:"08-09",logs:['发现页 <span style="color: #409eff;">样式</span> 调整','发现页新增 <span style="color: #409eff;">点击滚动</span> 效果并实现 <span style="color: #409eff;">全平台适配</span>']},{time:"08-06",logs:['发现页 <span style="color: #409eff;">样式</span> 调整','新增 <span style="color: #409eff;">页面过渡动画</span>']},{time:"08-01",logs:['我的收藏页 <span style="color: #409eff;"> 样式</span> 调整, 右侧菜单栏 <span style="color: #409eff;"> 样式</span> 调整','顶部增加 <span style="color: #409eff;"> 进度条</span> 加载动画']},{time:"07-30",logs:['我的收藏页面新增右侧 <span style="color: #409eff;"> 菜单栏</span> , PC端用户移动鼠标到最右侧即可打开, 移动端请点击右侧箭头','导入导出及发现页面入口均已移入右侧 <span style="color: #409eff;"> 菜单栏</span> ','右侧菜单栏新增 <span style="color: #409eff;"> 重置按钮</span> 及 <span style="color: #409eff;"> 功能介绍</span> ']},{time:"07-23",logs:["更新日志页面, 优化移动端显示效果, 实用网址导航更名为我的收藏","新增更新日志弹窗, 每次更新只弹一次哈",'我的收藏页面新增多个网站, 新增音乐分类, 如果没看到请前往 <span style="color:#00C9A7;"> 发现</span> 页面查看','我的收藏页面新增（导入 <span style="color:#dcdfe6">|</span> 导出 ）功能, 你现在可以备份自己的收藏啦','新增 <span style="color:#00C9A7;"> 发现</span> 页面(正在开发中), PC端用户将鼠标放在编辑按钮上就能看见啦','移动端用户请 <span onclick="window.open(\'/#/findView\')" style="color:#409eff;cursor: pointer;"> 点击此处</span> 访问 <span style="color:#00C9A7;"> 发现</span> 页面']},{time:"07-16",logs:['网址导航页面新增分类自定义（编辑 <span style="color:#dcdfe6">|</span> 删除 <span style="color:#dcdfe6">|</span> 新增 <span style="color:#dcdfe6">|</span> 排序）按钮','网址导航页面新增分类自定义（删除 <span style="color:#dcdfe6">|</span> 编辑 <span style="color:#dcdfe6">|</span> 添加 <span style="color:#dcdfe6">|</span> 排序）功能',"网址导航页面网页模块样式调整","网址导航页面网页模块新增（排序）功能",'网址导航页面优化（删除 <span style="color:#dcdfe6">|</span> 编辑 <span style="color:#dcdfe6">|</span> 添加）提示信息',"网址导航页面新增编辑模式动画效果"]},{time:"07-10",logs:['网站图标更换, 贡献者：<span style="color: #409eff;">小萧</span>',"网址导航页面, 修复文字溢出问题"]},{time:"07-09",logs:["网址导航页面新增（编辑模式）按钮","网址导航页面新增网站自定义添加功能","新增AI工具分类（如果没看到请点击上方重置按钮）","网址导航页面样式调整","编辑弹窗新增自动获取网页图标功能","网站图标形状更改为圆形"]},{time:"07-08",logs:["网址导航页面, 分类标题样式调整"]},{time:"07-07",logs:['网址导航页面, 新增（编辑 <span style="color:#dcdfe6">|</span> 删除）功能 <span style="color:#409eff;"> 数据只保存在本地</span> ',"修复某些网站失效问题","修复网页刷新后页面空白问题"]},{time:"06-27",logs:["优化移动端显示效果"]},{time:"06-25",logs:["新增更新日志页面","优化网站导航页编辑按钮位置"]},{time:"06-24",logs:["网址导航页面,网页模块样式调整",'网址导航页面,新增（编辑 <span style="color:#dcdfe6">|</span> 删除）按钮',"编辑功能已完成80%(已完成表单验证)","修复某些网站失效问题"]},{time:"06-22",logs:["网址导航页面,网页模块样式调整","网址导航新增 <b>Chat-Gpt</b> 分类"]},{time:"06-21",logs:['解决国内访问缓慢问题, 并将网站网址更换为 <span style="color: #409eff;"> https://doudounav.4everland.app</span>']},{time:"06-18",logs:["新增网站导航页",'完成网站导航页（样式 <span style="color:#dcdfe6">|</span> 动画）',"网站导航页新增多个分类","解决顶部导航栏着色问题","将全局字体更换为 <b>MiSans</b>","适配移动端"]},{time:"06-11",logs:["兜兜的导航项目正式启动","完成首页文字轮播",'完成首页（样式 <span style="color:#dcdfe6">|</span> 动画）','项目正式上线 <b>GitHub</b> 访问地址为: <span style="color: #409eff;">https://doudouli-youtang.github.io/DouDouNav</span>',"解决移动端点击图标无法跳转问题"]}]}},7941:function(e,l,t){t.r(l),t.d(l,{default:function(){return Te}});var a=t(3396),o=t(2268),s=t(9242),n=t(4870),i=t(6666),u=t(6e3),d=t(7178),r=t(2483),c=t(7139),p=t(2049),m=t(3413),v=t(8684),f=t(5743),g=t.n(f),w=t(5631);const y=e=>((0,a.dD)("data-v-66eba268"),e=e(),(0,a.Cn)(),e),_={class:"Sidebar"},b={class:"setUp"},h={class:"tbas_head"},k={class:"tbasLeft"},x=["onClick"],W=["innerHTML"],D={class:"tbasRight"},C={class:"tbasRight_body"},U={key:0},H=y((()=>(0,a._)("div",{class:"tbasRight_Box ncolor"}," 页面宽度 ",-1))),B={class:"tbasRight_Box ncolor"},S={key:1},V=y((()=>(0,a._)("div",{class:"tbasRight_Box ncolor"}," 获取最新推荐 ",-1))),T={class:"tbasRight_Box"},z={key:2},j=y((()=>(0,a._)("div",{class:"tbasRight_Box ncolor"}," 将配置以文件形式保存在您的设备上 ",-1))),L={class:"tbasRight_Box"},I=y((()=>(0,a._)("div",{class:"tbasRight_Box ncolor"}," 还原之前的备份 ",-1))),M={class:"tbasRight_Box"},R=y((()=>(0,a._)("div",{class:"tbasRight_Box ncolor"},[(0,a.Uk)(" 重置之后页面数据将与"),(0,a._)("span",{style:{color:"#409eff"}},"发现"),(0,a.Uk)("页面保持同步 ")],-1))),q={key:3},O=y((()=>(0,a._)("div",{class:"tbasRight_Box ncolor"}," 联系我 ",-1))),A={class:"tbasRight_Box2"},N=(0,a.uE)('<div class="tbasRight_Box qq" data-v-66eba268><svg class="icon" aria-hidden="true" data-v-66eba268><use xlink:href="#icon-QQ" data-v-66eba268></use></svg> QQ </div><div class="tbasRight_Box weixin" data-v-66eba268><svg class="icon" aria-hidden="true" data-v-66eba268><use xlink:href="#icon-weixin" data-v-66eba268></use></svg> 微信 </div>',2),F={class:"icon",style:{width:"14px"},"aria-hidden":"true"},Y=y((()=>(0,a._)("use",{"xlink:href":"#icon-github"},null,-1))),$=[Y],E=y((()=>(0,a._)("span",null," Github ",-1))),J={class:"tipArrow"};var K={__name:"Siderbar",emits:["backup","restore","findDrawer"],setup(e){const l=(0,c.oR)(),t=(0,n.iH)(null),s=(0,n.iH)(1),i=(0,n.iH)(40*s.value+"px");function r(e){s.value=e,i.value=40*e+"px",v.value=m[e]}let m=[{title:"设置",Introduction:"暂无内容",icon:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" data-v-ea893728=""><path fill="currentColor" d="M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36-116.224-25.088-65.28 113.152 79.68 88.192-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136-79.808 88.192 65.344 113.152 116.224-25.024 22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152 24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296 116.288 25.024 65.28-113.152-79.744-88.192 1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136 79.808-88.128-65.344-113.152-116.288 24.96-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384 192 192 0 0 1 0-384zm0 64a128 128 0 1 0 0 256 128 128 0 0 0 0-256z"></path></svg>'},{title:"发现",Introduction:"最新推荐的网站都在这",icon:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" data-v-ea893728=""><path fill="currentColor" d="M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"></path><path fill="currentColor" d="M725.888 315.008C676.48 428.672 624 513.28 568.576 568.64c-55.424 55.424-139.968 107.904-253.568 157.312a12.8 12.8 0 0 1-16.896-16.832c49.536-113.728 102.016-198.272 157.312-253.632 55.36-55.296 139.904-107.776 253.632-157.312a12.8 12.8 0 0 1 16.832 16.832z"></path></svg>'},{title:"备份与恢复",Introduction:"可以在这里备份或恢复您的配置",icon:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" data-v-ea893728=""><path fill="currentColor" d="M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm160 448h384v64H320v-64zm0-192h160v64H320v-64zm0 384h384v64H320v-64z"></path></svg>'},{title:"关于",Introduction:"如果有什么建议或想法欢迎联系我",icon:'<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" data-v-ea893728=""><path fill="currentColor" d="M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"></path></svg>'}];const v=(0,n.iH)(m[s.value]),f=function(){u.T.confirm('<p>你确定要重置全部数据吗?\n        </br><span style="color:red">注意！此操作会删除所有本地数据！</span>\n      </p>',"警告",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0}).then((async()=>{const e=JSON.parse(JSON.stringify(w.Z.webArry));l.commit("setData",e);const t="DouDouDB";p.ZP.deleteDBAll(t),(0,d.z8)({message:"数据重置成功",type:"success"})})).catch((()=>{}))};function g(){window.open("https://github.com/DouDouLi-YouTang")}const y=(0,n.iH)("默认");return(e,l)=>{const u=(0,a.up)("el-radio-button"),d=(0,a.up)("el-radio-group"),c=(0,a.up)("CaretLeft"),p=(0,a.up)("el-icon");return(0,a.wg)(),(0,a.iD)("div",_,[(0,a._)("div",b,[(0,a._)("div",{class:"tbas",ref_key:"tbas",ref:t},[(0,a._)("div",h,[(0,a._)("p",null,(0,o.zw)(v.value.title),1),(0,a._)("span",null,(0,o.zw)(v.value.Introduction??"暂无内容"),1)]),(0,a._)("div",k,[(0,a._)("div",{class:"tbasLeft_activeBar",style:(0,o.j5)({transform:`translateY(${i.value})`})},null,4),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,n.SU)(m),((e,l)=>((0,a.wg)(),(0,a.iD)("div",{class:"tbasLeftBox",style:(0,o.j5)({color:s.value==l?"#409eff":"#303133"}),onClick:e=>r(l)},[(0,a._)("div",{class:"tbasLeftBox_icon",innerHTML:e.icon},null,8,W),(0,a.Uk)(" "+(0,o.zw)(e.title),1)],12,x)))),256))]),(0,a._)("div",D,[(0,a._)("div",C,[0==s.value?((0,a.wg)(),(0,a.iD)("div",U,[H,(0,a._)("div",B,[(0,a.Wm)(d,{modelValue:y.value,"onUpdate:modelValue":l[0]||(l[0]=e=>y.value=e),onChange:l[1]||(l[1]=l=>e.$emit("pageSizeChange",y.value))},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{label:"默认"}),(0,a.Wm)(u,{label:"大"}),(0,a.Wm)(u,{label:"超大"})])),_:1},8,["modelValue"])])])):(0,a.kq)("",!0),1==s.value?((0,a.wg)(),(0,a.iD)("div",S,[V,(0,a._)("div",T,[(0,a._)("span",{class:"btn",onClick:l[2]||(l[2]=l=>e.$emit("findDrawer"))}," 前往发现页面 ")])])):(0,a.kq)("",!0),2==s.value?((0,a.wg)(),(0,a.iD)("div",z,[j,(0,a._)("div",L,[(0,a._)("span",{class:"btn",onClick:l[3]||(l[3]=l=>e.$emit("backup"))}," 导出 ")]),I,(0,a._)("div",M,[(0,a._)("span",{class:"btn",onClick:l[4]||(l[4]=l=>e.$emit("restore"))}," 恢复 ")]),R,(0,a._)("div",{class:"tbasRight_Box btn_center"},[(0,a._)("span",{onClick:f}," 重置所有数据 ")])])):(0,a.kq)("",!0),3==s.value?((0,a.wg)(),(0,a.iD)("div",q,[O,(0,a._)("div",A,[N,(0,a._)("div",{class:"tbasRight_Box gthub",onClick:g},[((0,a.wg)(),(0,a.iD)("svg",F,$)),E])])])):(0,a.kq)("",!0)])])],512)]),(0,a._)("div",J,[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c)])),_:1})])])}}},Z=t(89);const P=(0,Z.Z)(K,[["__scopeId","data-v-66eba268"]]);var G=P;const Q=e=>((0,a.dD)("data-v-376825e0"),e=e(),(0,a.Cn)(),e),X={key:0,class:"website-left"},ee=["onClick"],le={key:0,class:"website-left-box-edit"},te={class:"el-dropdown-link"},ae={class:"website-left-add"},oe=Q((()=>(0,a._)("div",{style:{height:"40px"}},null,-1))),se={class:"website-right-box"},ne=["id"],ie={class:"website-right-title-box"},ue={class:"box"},de={key:0,class:"jianjie"},re=["href"],ce={class:"webUrl"},pe=["src"],me={key:1,class:"bianji"},ve={class:"el-dropdown-link"},fe={class:"webBox"},ge=Q((()=>(0,a._)("div",{class:"jianjie"},"点击新增",-1))),we=["onClick"],ye={class:"webBox"},_e={key:0,class:"jianjie"},be={class:"webUrl"},he=["src"],ke={class:"dialog-footer"},xe=Q((()=>(0,a._)("span",{class:"iconfont handle"},"",-1))),We={class:"log"},De={key:0},Ce=["innerHTML"],Ue=Q((()=>(0,a._)("div",{class:"el-upload__text"},[(0,a.Uk)(" 将文件拖动到此处或 "),(0,a._)("em",null,"点击上传")],-1))),He=Q((()=>(0,a._)("div",{class:"el-upload__tip"}," 只能导入后缀为.txt的文件 ",-1))),Be=1697632223961;var Se={__name:"WebsiteView",setup(e){const l=(0,c.oR)(),t=(0,r.tv)();l.dispatch("createData");const f=v.Z.logData,w=(0,n.iH)(!1);let y=JSON.parse(localStorage.getItem("oldTime"));const _=(0,n.qj)(JSON.parse(localStorage.getItem("options"))),b=(0,n.iH)(_?.pageSize??"1400px");function h(e){b.value="默认"===e?"1400px":"大"===e?"1500px":"1600px"}function k(){t.push("./updatalog"),localStorage.setItem("menuid",JSON.stringify("updatalog"))}(0,a.bv)((()=>{(!y||Be>y)&&(w.value=!0,y=(new Date).getTime(),localStorage.setItem("oldTime",JSON.stringify(y)))}));const x=(0,a.Fl)((()=>l.state.webArry));(0,a.m0)((()=>{1==x.value.length&&0==x.value[0].childers.length&&(0,i.bM)({title:"提示",message:'<span style="color:#F56C6C;">检测到当前分类子项为空，如需添加请点击右下方编辑按钮新增</span>',dangerouslyUseHTMLString:!0,duration:0})}));const W=(0,a.Fl)((()=>l.getters.getmessage)),D=(0,n.iH)(null),C=(0,n.iH)(!1),U=(0,n.iH)(""),H=(0,n.iH)(!1),B=(0,n.iH)(!1),S=(0,n.iH)(!1),V=(0,n.iH)(window.innerWidth),T=(0,n.iH)(!1),z=(0,n.iH)(!1);function j(){window.open("/#/findView")}const L=(0,n.iH)(!1),I=(0,n.iH)(null);function M(){const e=g()().format("YYYY-MM-DD HH:mm"),l=`我的备份 ${e}.txt`,t=JSON.stringify(x.value),a=new Blob([t],{type:"text/plain"}),o=URL.createObjectURL(a),s=document.createElement("a");s.href=o,s.download=l,s.click(),URL.revokeObjectURL(o),(0,i.bM)({title:"备份导出成功",type:"success",message:'<span style="color:#F56C6C;">如果看不懂,请不要对文件进行修改,以免导致后续导入失败!</span>',dangerouslyUseHTMLString:!0,duration:1e4,position:"top-left"})}function R(e){let t="";function a(e){try{return JSON.parse(e),!0}catch(l){return!1}}if("text/plain"==e.type){L.value=!1;const o=new FileReader;o.onload=o=>{const s=a(o.target.result)?JSON.parse(o.target.result):void 0;t=s,s?u.T.confirm(`你确定要导入名为 <span style="color:#F56C6C;">${e.name}</span> 的备份文件吗?</br>\n          <span style="color:#F56C6C;">注意此操作会覆盖目前所有内容!</span> \n          `,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",dangerouslyUseHTMLString:!0}).then((()=>{L.value=!1,l.commit("setData",t),Z(),(0,i.bM)({title:"文件导入成功",type:"success",message:"备份恢复完成",dangerouslyUseHTMLString:!0,duration:5e3})})).catch((()=>{(0,i.bM)({title:"提示",type:"info",message:"用户取消导入",dangerouslyUseHTMLString:!0,duration:5e3}),L.value=!0})):(0,i.bM)({title:"导入错误",type:"error",message:"文件解析失败,请检查文件是否损坏或联系站长修复!",dangerouslyUseHTMLString:!0,duration:5e3})},o.readAsText(e)}else(0,i.bM)({title:"文件类型错误",type:"error",message:'只能导入后缀为 <span style="color:#409eff">.txt</span> 的文件,请重新选择',dangerouslyUseHTMLString:!0,duration:5e3});return!1}window.test=I,(0,a.m0)((()=>{V.value<500?S.value=!1:S.value=!0})),window.addEventListener("resize",(()=>{V.value=window.innerWidth}));const q=(0,n.qj)({});(0,a.m0)((()=>{q.selectData=x.value.map((e=>({title:e.title,value:e.key})))}));const O=(0,n.iH)(null),A=(e,l,t)=>{const a=/^((https|http|ftp|rtsp|mms)?:\/\/)[^\s]+/;""===l||a.test(l)?t():t(new Error("请输入正确的网址"))},N=(0,n.qj)({title:{required:!0,message:"请输入网站名称",trigger:"blur"},url:[{required:!0,message:"请输入网页地址",trigger:"blur"},{validator:A,trigger:"blur"}],imgUrl:[{validator:A,trigger:"blur"}]}),F=function(e,l,t){C.value=!0,U.value="edit",q.metaDataId=l.metaDataId,q.sort=e.key,q.title=l.webName,q.url=l.url,q.jianjie=l.jianjie,q.imgUrl=l.imgUrl},Y=function(e){C.value=!0,U.value="add",q.sort=e.key,q.metaDataId=(new Date).getTime(),q.imgUrl=""};function $(){Object.keys(q).forEach((e=>{"selectData"!=e&&delete q[e]}));const e=document.getElementById("dailogImg");e.onload=null,e.onerror=null}const E=function(){O.value.validate((e=>{e?("edit"==U.value?l.commit("editData",q):l.commit("addData",q),(0,d.z8)({message:W.value.message,type:W.value.type}),"success"==W.value.type&&(C.value=!1,Z())):console.log("验证失败")}))},J=function(e,t,a){u.T.confirm(`你确定要删除 <span style="color:#ec4141">${e.title}</span> 分类下的 <span style="color:#ec4141">${t.webName}</span> 吗?`,"警告",{type:"warning",confirmButtonText:"确定",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,confirmButtonClass:"deleteButton"}).then((()=>{const a={key:e.key,metaDataId:t.metaDataId};l.commit("delData",a),(0,d.z8)({message:W.value.message,type:W.value.type}),"success"==W.value.type&&Z()})).catch((()=>{}))};function K(){const e=/^((https|http|ftp|rtsp|mms)?:\/\/)[^\s]+/;if(e.test(q.url)){const e=new URL(q.url);q.imgUrl!=e.origin+"/favicon.ico"&&0==H.value&&(H.value=!0),q.imgUrl=e.origin+"/favicon.ico";const l=document.getElementById("dailogImg");l.onload=function(){""!=q.imgUrl&&(0,i.bM)({title:"成功",message:"图标获取成功!",type:"success"}),H.value=!1},l.onerror=function(){(0,i.bM)({title:"错误",message:"图标获取失败!",type:"error"}),q.imgUrl="",H.value=!1}}else(0,d.z8)({message:"请输入正确的网址",type:"error"})}async function Z(){const e="DouDouDB",l="website",t=await p.ZP.openDB(e,l,1),a={id:1,data:JSON.stringify(x.value)};p.ZP.updateDB(t,l,a)}const P=(0,n.qj)({}),Q=(0,n.iH)(null),Se=(0,n.qj)({title:{required:!0,message:"请输入标题名称",trigger:"blur"}});function Ve(e,l){P.type=e,"add"==P.type?P.key=(new Date).getTime():(P.key=l.key,P.title=l.title),z.value=!0}function Te(e){u.T.confirm(`你确定要删除 <span style="color:#ec4141">${e.title}</span> 这个分类吗?  </br>\n    警告：该操作会删除 <span style="color:#ec4141">${e.title}</span> 分类下的所有内容！\n    `,"警告",{type:"warning",confirmButtonText:"删除",cancelButtonText:"取消",dangerouslyUseHTMLString:!0,confirmButtonClass:"deleteButton"}).then((()=>{const t=e.key;l.commit("sortDel",t),(0,d.z8)({message:W.value.message,type:W.value.type}),"success"==W.value.type&&Z()})).catch((()=>{}))}function ze(){Q.value.validate((e=>{e&&("edit"==P.type?l.commit("editSort",P):l.commit("addSort",P),(0,d.z8)({message:W.value.message,type:W.value.type}),"success"==W.value.type&&(z.value=!1,Z()))}))}function je(){Object.keys(P).forEach((e=>delete P[e]))}let Le,Ie={list:[],sortKey:"",type:""};function Me(e,l){Ie.type=e,Ie.sortKey=l.key,Ie.list="web"==e?l.childers.map((e=>({name:e.webName,id:e.metaDataId}))):x.value.map((e=>({name:e.title,id:e.key}))),T.value=!0}const Re=()=>{if(!Le){let e=document.querySelector(".el-table__body-wrapper tbody");Le=m.ZP.create(e,{group:{name:"words",pull:!0,put:!0},handle:".handle",animation:150,onAdd(e){},onUpdate(e){},onRemove(e){},onStart:function(e){},onSort(e){},onEnd(e){if(e.oldIndex!==e.newIndex){let l,t,a=x.value.findIndex((e=>e.key==Oe.value));"web"==Ie.type?(l=x.value.findIndex((e=>e.key==Ie.sortKey)),-1!=l?(t=x.value[l].childers.splice(e.oldIndex,1)[0],x.value[l].childers.splice(e.newIndex,0,t),(0,d.z8)({message:"排序保存成功!",type:"success"}),Z()):(0,d.z8)({message:"获取分类名称索引值失败!",type:"error"})):(t=x.value.splice(e.oldIndex,1)[0],x.value.splice(e.newIndex,0,t),Oe.value=x.value[a].key,(0,d.z8)({message:"排序保存成功!",type:"success"}),Z())}}})}},qe=(0,n.iH)(null),Oe=(0,n.iH)(),Ae=(0,n.iH)(),Ne=(0,n.iH)(!1);let Fe=null;const Ye=e=>{Ne.value=!0,Oe.value=e,Ae.value=e;let l=document.querySelector(`#${e}`);qe.value.scrollTo({top:l.offsetTop-40,behavior:"smooth"}),Fe&&clearTimeout(Fe),Fe=setTimeout((()=>{Ae.value=void 0}),3e3)},$e=(0,n.qj)([]);let Ee=new IntersectionObserver((e=>{let l=e[0].target.id,t=e[0].isIntersecting;if(t){let e=$e.findIndex((e=>e==l));-1==e&&$e.push(l)}else{let e=$e.findIndex((e=>e==l));-1!==e&&$e.splice(e,1)}if(Ne.value)return;let a="";for(const o of x.value)if(-1!==$e.findIndex((e=>e===o.key))){a=o.key;break}Oe.value=a}),{threshold:[0,.25,.5,1]});const Je=()=>{for(const e of x.value){let l=document.querySelector(`#${e.key}`);$e.push(e.key),Ee.observe(l)}};return(0,a.bv)((()=>{let e=document.querySelector(".website-right-box");e.addEventListener("mousewheel",(()=>{Ne.value=!1})),setTimeout((()=>{"#/homeson/website"==window.location.hash&&Je()}),500)})),(0,a.Ah)((()=>{Ee.disconnect()})),(e,l)=>{const t=(0,a.up)("More"),i=(0,a.up)("el-icon"),u=(0,a.up)("Edit"),d=(0,a.up)("el-dropdown-item"),r=(0,a.up)("Switch"),c=(0,a.up)("Delete"),p=(0,a.up)("el-dropdown-menu"),m=(0,a.up)("el-dropdown"),v=(0,a.up)("Plus"),g=(0,a.up)("el-scrollbar"),y=(0,a.up)("el-aside"),_=(0,a.up)("el-main"),W=(0,a.up)("el-container"),V=(0,a.up)("el-divider"),A=(0,a.up)("el-option"),Z=(0,a.up)("el-select"),Be=(0,a.up)("el-form-item"),Le=(0,a.up)("el-input"),Ne=(0,a.up)("el-button"),Fe=(0,a.up)("el-form"),$e=(0,a.up)("el-dialog"),Ee=(0,a.up)("el-table-column"),Je=(0,a.up)("el-table"),Ke=(0,a.up)("upload-filled"),Ze=(0,a.up)("el-upload");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(W,{class:"webSiteBox",ref_key:"divDom",ref:D,style:(0,o.j5)({maxWidth:b.value?b.value:"1400px"})},{default:(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[x.value.length?((0,a.wg)(),(0,a.iD)("div",X,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(x.value,((e,l)=>((0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)("website-left-box "+(e.key==Oe.value?"active":"")),key:l},[(0,a._)("div",{class:(0,o.C_)("box_title "+(e.key==Oe.value?"active":"")),onClick:l=>Ye(e.key)},(0,o.zw)(e.title),11,ee),B.value?((0,a.wg)(),(0,a.iD)("div",le,[(0,a.Wm)(m,{trigger:"click"},{dropdown:(0,a.w5)((()=>[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,{onClick:l=>Ve("edit",e)},{default:(0,a.w5)((()=>[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u)])),_:1}),(0,a.Uk)("编辑")])),_:2},1032,["onClick"]),(0,a.Wm)(d,{onClick:l=>Me("sort",e)},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{style:{transform:"rotate(90deg)"}},{default:(0,a.w5)((()=>[(0,a.Wm)(r)])),_:1}),(0,a.Uk)("排序 ")])),_:2},1032,["onClick"]),(0,a.Wm)(d,{style:{color:"#F56C6C"},onClick:l=>Te(e)},{default:(0,a.w5)((()=>[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c)])),_:1}),(0,a.Uk)("删除 ")])),_:2},1032,["onClick"])])),_:2},1024)])),default:(0,a.w5)((()=>[(0,a._)("span",te,[(0,a.Wm)(i,{class:"on-inline"},{default:(0,a.w5)((()=>[(0,a.Wm)(t)])),_:1})])])),_:2},1024)])):(0,a.kq)("",!0)],2)))),128)),(0,a.Wm)(s.uT,{name:"bounce"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("div",{class:"website-left-box",onClick:l[0]||(l[0]=e=>Ve("add"))},[(0,a._)("p",ae,[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.Wm)(v)])),_:1})])],512),[[s.F8,B.value]])])),_:1})])):(0,a.kq)("",!0)])),_:1})])),_:1}),(0,a.Wm)(_,null,{default:(0,a.w5)((()=>[(0,a.Wm)(g,{ref_key:"scrollbarRef",ref:qe},{default:(0,a.w5)((()=>[oe,(0,a._)("div",se,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(x.value,((e,l)=>((0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)("website-right-title "+(Ae.value==e.key?"active":"")),key:l,id:e.key},[(0,a._)("div",ie,[(0,a._)("h2",null,(0,o.zw)(e.title),1)]),(0,a._)("div",ue,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.childers,((l,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"webBox",key:s},[l.jianjie?((0,a.wg)(),(0,a.iD)("div",de,(0,o.zw)(l.jianjie),1)):(0,a.kq)("",!0),(0,a._)("a",{href:l.url,target:"_blank"},[(0,a._)("div",ce,[(0,a._)("img",{src:l.imgUrl?l.imgUrl:"https://img.bidianer.com/image/icon/empty.svg"},null,8,pe),(0,a._)("div",null,(0,o.zw)(l.webName),1)])],8,re),S.value?((0,a.wg)(),(0,a.iD)("div",me,[(0,a.Wm)(m,{trigger:"click"},{dropdown:(0,a.w5)((()=>[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,{onClick:t=>F(e,l,s)},{default:(0,a.w5)((()=>[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u)])),_:1}),(0,a.Uk)("编辑 ")])),_:2},1032,["onClick"]),(0,a.Wm)(d,{onClick:l=>Me("web",e)},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{style:{transform:"rotate(90deg)"}},{default:(0,a.w5)((()=>[(0,a.Wm)(r)])),_:1}),(0,a.Uk)("排序 ")])),_:2},1032,["onClick"]),(0,a.Wm)(d,{style:{color:"#F56C6C"},onClick:t=>J(e,l,s)},{default:(0,a.w5)((()=>[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c)])),_:1}),(0,a.Uk)("删除 ")])),_:2},1032,["onClick"])])),_:2},1024)])),default:(0,a.w5)((()=>[(0,a._)("span",ve,[(0,a.Wm)(i,{class:"on-inline"},{default:(0,a.w5)((()=>[(0,a.Wm)(t)])),_:1})])])),_:2},1024)])):(0,a.kq)("",!0)])))),128)),(0,a.Wm)(s.uT,{name:"bounce"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("div",fe,[ge,(0,a._)("p",{onClick:l=>Y(e)},[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a.Wm)(v)])),_:1})],8,we)],512),[[s.F8,B.value]])])),_:2},1024)])],10,ne)))),128))])])),_:1},512)])),_:1})])),_:1},8,["style"]),S.value?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"editMode",onClick:l[1]||(l[1]=e=>B.value=!B.value)},[(0,a.Wm)(i,{class:"editText","aria-expanded":!1},{default:(0,a.w5)((()=>[(0,a.Wm)(u)])),_:1})])):(0,a.kq)("",!0),(0,a.Wm)((0,n.SU)(G),{onBackup:M,onRestore:l[2]||(l[2]=e=>L.value=!L.value),onFindDrawer:j,onPageSizeChange:h}),(0,a.Wm)($e,{modelValue:C.value,"onUpdate:modelValue":l[9]||(l[9]=e=>C.value=e),title:"edit"==U.value?"修改":"新增",width:"500",class:"tanceng",style:{"border-radius":"5px"},onClose:$},{footer:(0,a.w5)((()=>[(0,a._)("span",ke,[(0,a.Wm)(Ne,{onClick:l[8]||(l[8]=e=>C.value=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)("取消")])),_:1}),(0,a.Wm)(Ne,{type:"primary",onClick:E,disabled:H.value},{default:(0,a.w5)((()=>[(0,a.Uk)(" 确定 ")])),_:1},8,["disabled"])])])),default:(0,a.w5)((()=>[(0,a._)("div",(0,a.dG)({class:"box"},q),[(0,a._)("div",ye,[q.jianjie?((0,a.wg)(),(0,a.iD)("div",_e,(0,o.zw)(q.jianjie),1)):(0,a.kq)("",!0),(0,a._)("a",null,[(0,a._)("div",be,[(0,a._)("img",{id:"dailogImg",src:q.imgUrl?q.imgUrl:"https://img.bidianer.com/image/icon/empty.svg"},null,8,he),(0,a._)("div",null,(0,o.zw)(q.title),1)])])])],16),(0,a.Wm)(V,{style:{"margin-top":"10px"}}),(0,a.Wm)(Fe,{"label-width":"100px",rules:N,ref_key:"ruleFormRef",ref:O,model:q,style:{"max-width":"460px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(Be,{label:"分类"},{default:(0,a.w5)((()=>[(0,a.Wm)(Z,{disabled:"edit"==U.value,modelValue:q.sort,"onUpdate:modelValue":l[3]||(l[3]=e=>q.sort=e),placeholder:"请选择一个分类"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(q.selectData,((e,l)=>((0,a.wg)(),(0,a.j4)(A,{key:l,label:e.title,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["disabled","modelValue"])])),_:1}),(0,a.Wm)(Be,{label:"网站名称",prop:"title"},{default:(0,a.w5)((()=>[(0,a.Wm)(Le,{modelValue:q.title,"onUpdate:modelValue":l[4]||(l[4]=e=>q.title=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(Be,{label:"简介"},{default:(0,a.w5)((()=>[(0,a.Wm)(Le,{modelValue:q.jianjie,"onUpdate:modelValue":l[5]||(l[5]=e=>q.jianjie=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(Be,{label:"网页地址",prop:"url"},{default:(0,a.w5)((()=>[(0,a.Wm)(Le,{modelValue:q.url,"onUpdate:modelValue":l[6]||(l[6]=e=>q.url=e)},{append:(0,a.w5)((()=>[(0,a.Wm)(Ne,{type:"primary",onClick:K},{default:(0,a.w5)((()=>[(0,a.Uk)("获取网页图标")])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(Be,{label:"网页图标地址",prop:"imgUrl"},{default:(0,a.w5)((()=>[(0,a.Wm)(Le,{clearable:"",modelValue:q.imgUrl,"onUpdate:modelValue":l[7]||(l[7]=e=>q.imgUrl=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["rules","model"])])),_:1},8,["modelValue","title"]),(0,a.Wm)($e,{modelValue:T.value,"onUpdate:modelValue":l[10]||(l[10]=e=>T.value=e),title:"排序(拖动)",width:"300",class:"sortDialogs",onOpened:Re},{default:(0,a.w5)((()=>[(0,a.Wm)(Je,{id:"table",data:(0,n.SU)(Ie).list,"row-key":"id",style:{width:"300px"},border:"",height:"300","show-overflow-tooltip":""},{default:(0,a.w5)((()=>[(0,a.Wm)(Ee,{label:"排序",width:"60",align:"center"},{default:(0,a.w5)((e=>[xe])),_:1}),(0,a.Wm)(Ee,{prop:"name",label:"名称"})])),_:1},8,["data"])])),_:1},8,["modelValue"]),(0,a.Wm)($e,{class:"sortDialog",modelValue:z.value,"onUpdate:modelValue":l[13]||(l[13]=e=>z.value=e),title:"edit"==P.type?"修改分类名称":"新增分类",width:"500",onClose:je},{footer:(0,a.w5)((()=>[(0,a._)("span",null,[(0,a.Wm)(Ne,{onClick:l[12]||(l[12]=e=>z.value=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)("取消")])),_:1}),(0,a.Wm)(Ne,{type:"primary",onClick:ze},{default:(0,a.w5)((()=>[(0,a.Uk)(" 确定 ")])),_:1})])])),default:(0,a.w5)((()=>[(0,a.Wm)(Fe,{model:P,ref_key:"sortFormRule",ref:Q,rules:Se,"label-width":"120px"},{default:(0,a.w5)((()=>[(0,a.Wm)(Be,{label:"分类名称",prop:"title"},{default:(0,a.w5)((()=>[(0,a.Wm)(Le,{clearable:"",modelValue:P.title,"onUpdate:modelValue":l[11]||(l[11]=e=>P.title=e),placeholder:"请输入分类名称"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"]),(0,a.Wm)($e,{modelValue:w.value,"onUpdate:modelValue":l[15]||(l[15]=e=>w.value=e),title:"近期更新",class:"upDataLogDiaLog",width:"500","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},{footer:(0,a.w5)((()=>[(0,a._)("span",null,[(0,a.Wm)(Ne,{type:"warning",onClick:l[14]||(l[14]=e=>w.value=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)("我知道啦")])),_:1}),(0,a.Wm)(Ne,{type:"primary",onClick:k},{default:(0,a.w5)((()=>[(0,a.Uk)(" 查看更多更新日志 ")])),_:1})])])),default:(0,a.w5)((()=>[(0,a._)("div",We,[(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,n.SU)(f),((e,l)=>((0,a.wg)(),(0,a.iD)("div",{class:"log-box",key:l},[0==l?((0,a.wg)(),(0,a.iD)("ul",De,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.logs,((e,l)=>((0,a.wg)(),(0,a.iD)("li",{key:l},[(0,a._)("span",{innerHTML:e},null,8,Ce)])))),128))])):(0,a.kq)("",!0)])))),128))])),_:1})])])),_:1},8,["modelValue"]),(0,a.Wm)($e,{modelValue:L.value,"onUpdate:modelValue":l[16]||(l[16]=e=>L.value=e),title:"导入",ref_key:"importDialogDome",ref:I},{default:(0,a.w5)((()=>[(0,a.Wm)(Ze,{class:"upload-demo",drag:"",action:"#","before-upload":R,accept:".txt"},{tip:(0,a.w5)((()=>[He])),default:(0,a.w5)((()=>[(0,a.Wm)(i,{class:"el-icon--upload"},{default:(0,a.w5)((()=>[(0,a.Wm)(Ke)])),_:1}),Ue])),_:1},8,["accept"])])),_:1},8,["modelValue"])],64)}}};const Ve=(0,Z.Z)(Se,[["__scopeId","data-v-376825e0"]]);var Te=Ve}}]);
//# sourceMappingURL=website.7499dbfa.js.map