{"version":3,"file":"js/584.41faf01a.js","mappings":"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","sources":["webpack://doudou-nav/./src/views/WebsiteView.vue","webpack://doudou-nav/./src/views/WebsiteView.vue?8124"],"sourcesContent":["<template>\n  <el-container class=\"common-layout\" ref=\"divDom\">\n    <el-aside>\n      <el-scrollbar>\n        <div class=\"website-left\" v-if=\"arrey.length\">\n          <div class=\"website-left-box\" v-for=\"(item, index) in arrey\" :key=\"index\">\n            <div :class=\"{ active: item.key == current }\" @click=\"liClick(item.key)\"\n              :style=\"{ paddingRight: editMode ? '20px' : '0' }\">\n              {{ item.title }}\n              <div class=\"website-left-box-edit\" v-if=\"editMode\">\n                <el-dropdown trigger=\"click\">\n                  <span class=\"el-dropdown-link\">\n                    <el-icon class=\"on-inline\">\n                      <More />\n                    </el-icon>\n                  </span>\n                  <template #dropdown>\n                    <el-dropdown-menu>\n                      <el-dropdown-item @click=\"sortModify('edit', item)\">\n                        <el-icon>\n                          <Edit />\n                        </el-icon>编辑</el-dropdown-item>\n                      <el-dropdown-item style=\"color: #F56C6C;\" @click=\"sortDel(item)\">\n                        <el-icon>\n                          <Delete />\n                        </el-icon>删除\n                      </el-dropdown-item>\n                    </el-dropdown-menu>\n                  </template>\n                </el-dropdown>\n                <!-- <el-icon>\n                  <EditPen />\n                </el-icon> -->\n              </div>\n            </div>\n          </div>\n          <transition name=\"bounce\">\n            <div class=\"website-left-box\" @click=\"sortModify('add')\" v-show=\"editMode\">\n              <p class=\"website-left-add\">\n                <el-icon>\n                  <Plus />\n                </el-icon>\n              </p>\n            </div>\n          </transition>\n        </div>\n      </el-scrollbar>\n    </el-aside>\n    <el-main>\n      <el-scrollbar ref=\"scrollbarRef\">\n        <div style=\"height: 40px;\"></div>\n        <div class=\"website-right-box\">\n          <div class=\"website-right-title\" v-for=\"(item, index) in arrey\" :key=\"index\" :id=\"item.key\">\n            <div class=\"website-right-title-box\">\n              <h2>{{ item.title }}</h2>\n            </div>\n            <div class=\"box\">\n              <div class=\"webBox\" v-for=\"(res, index) in item.childers\" :key=\"index\">\n                <template v-if=\"res.jianjie\">\n                  <div class=\"jianjie\">{{ res.jianjie }} </div>\n                </template>\n                <a :href=\"res.url\" target=\"_blank\">\n                  <div class=\"webUrl\">\n                    <img :src=\"res.imgUrl ? res.imgUrl : 'https://img.bidianer.com/image/icon/empty.svg'\">\n                    <div>{{ res.webName }}</div>\n                  </div>\n                </a>\n                <div class=\"bianji\" v-if=\"isShowEdit\">\n                  <el-dropdown trigger=\"click\">\n                    <span class=\"el-dropdown-link\">\n                      <el-icon class=\"on-inline\">\n                        <More />\n                      </el-icon>\n                    </span>\n                    <template #dropdown>\n                      <el-dropdown-menu>\n                        <el-dropdown-item @click=\"edit(item, res, index)\">\n                          <el-icon>\n                            <Edit />\n                          </el-icon>编辑</el-dropdown-item>\n                        <el-dropdown-item style=\"color: #F56C6C;\" @click=\"del(item, res, index)\">\n                          <el-icon>\n                            <Delete />\n                          </el-icon>删除\n                        </el-dropdown-item>\n                      </el-dropdown-menu>\n                    </template>\n                  </el-dropdown>\n                </div>\n              </div>\n              <transition name=\"bounce\">\n                <div class=\"webBox\" v-show=\"editMode\">\n                  <div class=\"jianjie\">点击新增</div>\n                  <p @click=\"add(item)\">\n                    <el-icon>\n                      <Plus />\n                    </el-icon>\n                  </p>\n                </div>\n              </transition>\n            </div>\n          </div>\n        </div>\n      </el-scrollbar>\n    </el-main>\n  </el-container>\n  <div class=\"editMode\" v-if=\"isShowEdit\" @click=\"editMode = !editMode\">\n    <el-tooltip class=\"box-item\" effect=\"dark\" content=\"编辑模式\" placement=\"top\">\n      <el-icon>\n        <Edit />\n      </el-icon>\n    </el-tooltip>\n  </div>\n\n\n  <!-- 网页收藏新增 -->\n  <el-dialog v-model=\"dialogVisible\" :title=\"dialogType == 'edit' ? '修改' : '新增'\" width=\"500\" class=\"tanceng\"\n    style=\"border-radius: 5px;\" @close=\"closeDialog\">\n    <div class=\"box\" v-bind=\"dailogData\">\n      <div class=\"webBox\">\n        <template v-if=\"dailogData.jianjie\">\n          <div class=\"jianjie\">{{ dailogData.jianjie }}</div>\n        </template>\n        <a>\n          <div class=\"webUrl\">\n            <img id=\"dailogImg\"\n              :src=\"dailogData.imgUrl ? dailogData.imgUrl : 'https://img.bidianer.com/image/icon/empty.svg'\">\n            <div>{{ dailogData.title }}</div>\n          </div>\n        </a>\n      </div>\n    </div>\n    <el-divider style=\"margin-top:10px;\" />\n    <el-form label-width=\"100px\" :rules=\"rules\" ref=\"ruleFormRef\" :model=\"dailogData\" style=\"max-width: 460px\">\n      <el-form-item label=\"分类\">\n        <el-select :disabled=\"dialogType == 'edit'\" v-model=\"dailogData.sort\" placeholder=\"请选择一个分类\">\n          <el-option v-for=\"(item, index) in dailogData.selectData\" :key=\"index\" :label=\"item.title\"\n            :value=\"item.value\" />\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"网站名称\" prop=\"title\">\n        <el-input v-model=\"dailogData.title\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"简介\">\n        <el-input v-model=\"dailogData.jianjie\" />\n      </el-form-item>\n      <el-form-item label=\"网页地址\" prop=\"url\">\n        <el-input v-model=\"dailogData.url\">\n          <template #append>\n            <el-button type=\"primary\" @click=\"getImgUrl\">获取网页图标</el-button>\n          </template>\n        </el-input>\n      </el-form-item>\n      <el-form-item label=\"网页图标地址\" prop=\"imgUrl\">\n        <el-input clearable v-model=\"dailogData.imgUrl\" />\n      </el-form-item>\n    </el-form>\n    <template #footer>\n      <span class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"confirm\" :disabled=\"editButton\">\n          确定\n        </el-button>\n      </span>\n    </template>\n  </el-dialog>\n  <!-- 分类排序 -->\n  <el-dialog v-model=\"tableSortDialog\" title=\"排序\">\n    <el-table id=\"table\" :data=\"list\" row-key=\"id\" style=\"width: 500px\">\n      <el-table-column label=\"排序\" width=\"60\" align=\"center\">\n        <template #default=\"scope\">\n          <el-icon class=\"handle\" style=\"cursor:move;\">\n            <Expand />\n          </el-icon>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"name\" label=\"昵称\" width=\"180\" />\n    </el-table>\n  </el-dialog>\n  <!-- 分类新增 -->\n  <el-dialog class=\"sortDialog\" v-model=\"sortDiaog\" :title=\"sortTitle.type == 'edit' ? '修改分类名称' : '新增分类'\" width=\"500\"\n    @close=\"closeSortDialog\">\n    <el-form :model=\"sortTitle\" ref=\"sortFormRule\" :rules=\"sortRule\" label-width=\"120px\">\n      <el-form-item label=\"分类名称\" prop=\"title\">\n        <el-input clearable v-model=\"sortTitle.title\" placeholder=\"请输入分类名称\" />\n      </el-form-item>\n    </el-form>\n    <template #footer>\n      <span>\n        <el-button @click=\"sortDiaog = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"sortDiaogconfirm\">\n          确定\n        </el-button>\n      </span>\n    </template>\n  </el-dialog>\n</template>\n<script setup>\n\nimport { ref, onMounted, computed, reactive, nextTick, watchEffect, toRef, toRefs, watch } from 'vue';\nimport { ElMessageBox, ElMessage, ElNotification } from 'element-plus'\nimport { useStore } from 'vuex';\nimport IndexDB from '../untils/indexDB.js'\nconst store = useStore()\nstore.dispatch('createData');\n\n// 网页渲染的数据\nconst arrey = computed(() => store.state.webArry)\n\n// 当分类只剩一项并且没有子集是会触发\nwatchEffect(() => {\n  if (arrey.value.length == 1 && arrey.value[0].childers.length == 0) {\n    ElNotification({\n      title: '提示',\n      message: `<span style=\"color:#F56C6C;\">检测到当前分类子项为空，如需添加请点击右下方编辑按钮新增</span>`,\n      dangerouslyUseHTMLString: true,\n      duration: 0,\n    })\n  }\n})\n\nconst callbackMessage = computed(() => store.getters.getmessage);\n// 获取dom宽度\nconst divDom = ref(null);\n\n// 弹框显示/隐藏\nconst dialogVisible = ref(false)\n\n// 弹窗显示类型\nconst dialogType = ref('')\n\n// 弹窗确定按钮禁用\nconst editButton = ref(false)\n\n// 编辑模式打开/关闭\nconst editMode = ref(false);\n\n// 是否显示修改按钮\nconst isShowEdit = ref(false);\n\n// dom宽度\nconst windowWidth = ref(window.innerWidth)\n\n// 排序弹窗显示/隐藏\nconst tableSortDialog = ref(false);\n\n// 分类新增弹窗/隐藏\nconst sortDiaog = ref(false);\n\n//#region 实时监控窗口宽度\nwatchEffect(() => {\n  if (windowWidth.value < 500) {\n    isShowEdit.value = false\n  } else {\n    isShowEdit.value = true\n  }\n})\n\nwindow.addEventListener('resize', () => {\n  windowWidth.value = window.innerWidth\n});\n//#endregion\n\n//#region 编辑弹窗\nconst dailogData = reactive({\n  // sort: '', // 分类\n  // title: '', // 网站名称\n  // url: '', // 网页地址\n  // imgUrl: '',// 图片地址\n  // jianjie: '' // 简介\n})\n\n// 监听arrey的值，如果发生改变这重置下拉框内的数据\nwatchEffect(() => {\n  dailogData.selectData = arrey.value.map(item => { // 下拉框数据\n    return {\n      'title': item.title,\n      'value': item.key\n    }\n  })\n})\n\n// 表单验证\nconst ruleFormRef = ref(null);\n\n// 网址验证\nconst urlpass = (rule, value, callback) => {\n  const pass = /^((https|http|ftp|rtsp|mms)?:\\/\\/)[^\\s]+/\n  if (value === '') {\n    callback()\n  } else if (!pass.test(value)) {\n    callback(new Error(\"请输入正确的网址\"))\n  } else {\n    callback()\n  }\n}\n\nconst rules = reactive({\n  title: { required: true, message: '请输入网站名称', trigger: 'blur' },\n  url: [\n    { required: true, message: '请输入网页地址', trigger: 'blur' },\n    { validator: urlpass, trigger: 'blur' }\n  ],\n  imgUrl: [\n    { validator: urlpass, trigger: 'blur' }],\n});\n\n// 修改时弹窗的数据\nconst edit = function (item, childer, index) {\n  // 打开弹窗\n  dialogVisible.value = true;\n  dialogType.value = 'edit';\n  dailogData.metaDataId = childer.metaDataId\n  dailogData.sort = item.key;\n  dailogData.title = childer.webName\n  dailogData.url = childer.url\n  dailogData.jianjie = childer.jianjie\n  dailogData.imgUrl = childer.imgUrl\n}\n\n// 新增时弹窗的数据\nconst add = function (item) {\n  dialogVisible.value = true;\n  dialogType.value = 'add';\n  dailogData.sort = item.key;\n  dailogData.metaDataId = new Date().getTime();\n  dailogData.imgUrl = ''\n}\n\n// 当弹窗关闭时\nfunction closeDialog() {\n  // 清空所有数据\n  Object.keys(dailogData).forEach(key => {\n    if (key != 'selectData') {\n      delete dailogData[key]\n    }\n  });\n  const imgElement = document.getElementById('dailogImg');\n  imgElement.onload = null;\n  imgElement.onerror = null;\n}\n// 确定\nconst confirm = function () {\n  ruleFormRef.value.validate((valid) => {\n    if (valid) {\n      if (dialogType.value == 'edit') {\n        store.commit('editData', dailogData)\n      } else {\n        store.commit('addData', dailogData)\n      }\n      ElMessage({\n        message: callbackMessage.value.message,\n        type: callbackMessage.value.type,\n      })\n      if (callbackMessage.value.type == 'success') {\n        dialogVisible.value = false;\n        saveData()\n      }\n    } else {\n      console.log(\"验证失败\");\n    }\n  });\n}\n// 删除\nconst del = function (item, childer, index) {\n  ElMessageBox.confirm(\n    `你确定要删除 <span style=\"color:#ec4141\">${item.title}</span> 分类下的 <span style=\"color:#ec4141\">${childer.webName}</span> 吗?`,\n    '警告',\n    {\n      type: 'warning',\n      confirmButtonText: '确定',\n      cancelButtonText: '取消',\n      dangerouslyUseHTMLString: true,\n      confirmButtonClass: 'deleteButton',\n    }).then(() => {\n      const data = {\n        key: item.key,\n        metaDataId: childer.metaDataId\n      }\n      store.commit('delData', data)\n      ElMessage({\n        message: callbackMessage.value.message,\n        type: callbackMessage.value.type,\n      })\n      if (callbackMessage.value.type == 'success') {\n        saveData()\n      }\n    }).catch(() => {\n\n    })\n}\n// 获取网页图标\nfunction getImgUrl() {\n  const pass = /^((https|http|ftp|rtsp|mms)?:\\/\\/)[^\\s]+/\n  if (pass.test(dailogData.url)) {\n    const url = new URL(dailogData.url)\n    if (dailogData.imgUrl != url.origin + '/favicon.ico' && editButton.value == false) {\n      editButton.value = true\n    }\n    dailogData.imgUrl = url.origin + '/favicon.ico'\n    const imgElement = document.getElementById('dailogImg');\n    imgElement.onload = function () {\n      if (dailogData.imgUrl != '') {\n        ElNotification({\n          title: '成功',\n          message: '图标获取成功!',\n          type: 'success',\n        })\n      }\n      editButton.value = false\n    };\n    imgElement.onerror = function () {\n      ElNotification({\n        title: '错误',\n        message: '图标获取失败!',\n        type: 'error',\n      })\n      dailogData.imgUrl = ''\n      editButton.value = false\n    };\n  } else {\n    ElMessage({\n      message: '请输入正确的网址',\n      type: 'error',\n    })\n  }\n}\n// 保存\nasync function saveData() {\n  // 数据库名称 表名称\n  const dbName = 'DouDouDB', storeName = 'website';\n  const db = await IndexDB.openDB(dbName, storeName, 1);\n  const newData = { id: 1, data: JSON.stringify(arrey.value) };\n  IndexDB.updateDB(db, storeName, newData);\n}\n//#endregion\n\n//#region 分类编辑\nconst sortTitle = reactive({})\nconst sortFormRule = ref(null)\nconst sortRule = reactive({\n  title: { required: true, message: '请输入标题名称', trigger: 'blur' },\n})\n\n// 点击新增或修改时\nfunction sortModify(type, item) {\n  debugger\n  sortTitle.type = type;\n  if (sortTitle.type == 'add') {\n    sortTitle.key = new Date().getTime()\n  } else {\n    sortTitle.key = item.key\n    sortTitle.title = item.title\n  }\n  sortDiaog.value = true;\n}\nfunction sortDel(item) {\n  ElMessageBox.confirm(\n    `你确定要删除 <span style=\"color:#ec4141\">${item.title}</span> 这个分类吗?  </br>\n    警告：该操作会删除 <span style=\"color:#ec4141\">${item.title}</span> 分类下的所有内容！\n    `,\n    '警告',\n    {\n      type: 'warning',\n      confirmButtonText: '删除',\n      cancelButtonText: '取消',\n      dangerouslyUseHTMLString: true,\n      confirmButtonClass: 'deleteButton',\n    }).then(() => {\n      const key = item.key\n      store.commit('sortDel', key)\n      ElMessage({\n        message: callbackMessage.value.message,\n        type: callbackMessage.value.type,\n      })\n      if (callbackMessage.value.type == 'success') {\n        saveData()\n      }\n    }).catch(() => {\n\n    })\n}\n// 点击确定\nfunction sortDiaogconfirm() {\n  sortFormRule.value.validate((valid) => {\n    if (valid) {\n      if (sortTitle.type == 'edit') {\n        store.commit('editSort', sortTitle)\n      } else {\n        store.commit('addSort', sortTitle)\n      }\n      ElMessage({\n        message: callbackMessage.value.message,\n        type: callbackMessage.value.type,\n      })\n      if (callbackMessage.value.type == 'success') {\n        sortDiaog.value = false;\n        saveData()\n      }\n    }\n  })\n}\n\n// 当弹窗关闭时\nfunction closeSortDialog() {\n  Object.keys(sortTitle).forEach(key => delete sortTitle[key]);\n}\n\n//#endregion\n\n//#region  滚动效果\n// 滚动条\nconst scrollbarRef = ref(null);\nconst current = ref(\"freeMovies\");\nconst flag = ref(false);\nconst liClick = (key) => {\n  flag.value = true;\n  current.value = key;\n  /* \n  获取到key 然后渠道对应的元素 进行滚动\n   */\n  // 获取父级容器\n  // let content = document.querySelector(\".website-right-box\");\n  let target = document.querySelector(`#${key}`);\n  // document.getElementById(key).scrollIntoView({ behavior: 'smooth', inline: 'start' });\n  scrollbarRef.value.scrollTo({\n    top: target.offsetTop - 40,\n    behavior: \"smooth\",\n  })\n\n  // content.scrollTo({\n  //   // 距离顶部导航栏的距离\n  //   top: target.offsetTop - 60,\n  //   behavior: \"smooth\",\n  // });\n};\n// 所有dom元素的id\nconst showKeys = reactive([]);\n// -----交叉观察器\nlet io = new IntersectionObserver((entrys) => {\n  let firstInsetId = entrys[0].target.id;\n  let isInter = entrys[0].isIntersecting;\n  if (isInter) {\n    let isFind = showKeys.findIndex((item) => item == firstInsetId);\n    if (isFind == -1) {\n      showKeys.push(firstInsetId);\n    }\n  } else {\n    let index = showKeys.findIndex((item) => item == firstInsetId);\n    if (index !== -1) {\n      showKeys.splice(index, 1);\n    }\n  }\n  if (flag.value) return; //----放开是另一种效果\n  let result = \"\";\n  for (const item of arrey.value) {\n    if (showKeys.findIndex((key) => key === item.key) !== -1) {\n      result = item.key;\n      break;\n    }\n  }\n  current.value = result;\n}, {\n  threshold: [0, 0.25, 0.5, 1]\n}\n);\nconst startObser = () => {\n  for (const item of arrey.value) {\n    let el = document.querySelector(`#${item.key}`);\n    showKeys.push(item.key);\n    io.observe(el);\n  }\n};\nonMounted(() => {\n  let content = document.querySelector(\".website-right-box\");\n  content.addEventListener(\"mousewheel\", () => {\n    flag.value = false;\n  });\n  setTimeout(() => {\n    startObser();\n  }, 500)\n});\n//#endregion\n\n</script>\n<style lang=\"less\" scoped>\n.common-layout {\n  height: calc(100vh - 60px);\n  margin: 0 auto;\n  max-width: 1400px;\n\n  .el-aside {\n    // max-width: 200px !important;\n    margin-top: 40px;\n    margin-bottom: 40px;\n    border-radius: 10px;\n    overflow: hidden;\n    transition: all .5s;\n\n    .website-left {\n      padding: 10px;\n      padding-left: 20px;\n      background-color: white;\n      border-radius: 10px;\n      overflow: hidden;\n\n      .website-left-box {\n        position: relative;\n\n        p {\n          cursor: pointer;\n          height: 40px;\n          border-radius: 5px;\n          transition: all .5s;\n          font-size: 14px;\n          border: 1.5px dashed rgba(236, 245, 255, );\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        p:hover {\n          background-color: #ecf5ff;\n          color: #409eff;\n\n        }\n\n        >div {\n          transition: all .5s;\n          font-size: 14px;\n          line-height: 40px;\n          cursor: pointer;\n          border-radius: 5px;\n          margin: 5px 0;\n          overflow: hidden; //（文字长度超出限定宽度，则隐藏超出的内容）\n          white-space: nowrap; //（设置文字在一行显示，不能换行）\n          text-overflow: ellipsis; //（规定当文本溢出时，显示省略符号来代表被修剪的文本）\n\n          .website-left-box-edit {\n            display: inline-block;\n            width: auto;\n            position: absolute;\n            right: 10px;\n            cursor: pointer;\n            transition: all .5s;\n            opacity: 0;\n            bottom: 0px;\n            line-height: initial;\n            background-color: initial;\n            font-size: 15px;\n            margin: 0;\n          }\n\n          .website-left-box-edit:hover {\n            padding: 0;\n            background-color: initial;\n\n            .el-dropdown-link {\n              color: #0072ea;\n            }\n          }\n        }\n\n        >div:hover {\n          color: #409eff;\n          background-color: #ecf5ff;\n          padding-left: 20px;\n\n          .website-left-box-edit {\n            opacity: 1;\n          }\n        }\n\n        div:first-child.active {\n          color: #409eff;\n          background-color: #ecf5ff;\n          padding-left: 20px;\n        }\n      }\n\n    }\n\n\n  }\n\n  .el-main {\n    margin: 0 auto;\n    padding: 0;\n    max-width: 1400px;\n    height: 100%;\n    transition: all .5s;\n\n    .website-right-box {\n      padding: 0 10px 0 20px;\n      height: 100%;\n\n      .website-right-title {\n        padding-top: 15px;\n\n        .website-right-title-box {\n          display: inline-block;\n          border-radius: 10px;\n          // padding: 12px;\n          transition: all .3s;\n          cursor: pointer;\n\n          h2 {\n            user-select: none;\n            color: #606266;\n            font-weight: 400;\n            font-size: 20px;\n            transition: all .3s;\n            display: flex;\n            align-items: center;\n            position: relative;\n            margin-bottom: 5px;\n\n            // transform: translateX(-10px);\n            h2 .el-icon {\n              font-size: 12px;\n              margin-left: 5px;\n            }\n          }\n\n          h2::after {\n            content: '';\n            height: 2px;\n            width: 0px;\n            background-color: #0072ea;\n            position: absolute;\n            bottom: -2px;\n            transition: all .5s;\n          }\n\n        }\n\n        .website-right-title-box:hover {\n          // background-color: #e7f1fd;\n\n          h2 {\n            color: #0072ea;\n            // transform: translateX(0);\n          }\n\n          h2::after {\n            width: calc(100% + 10px);\n\n          }\n        }\n\n        .el-divider {\n          margin-top: 10px;\n          margin-bottom: 0;\n        }\n\n        .box {\n          display: flex;\n          padding: 5px 0;\n          flex-wrap: wrap;\n          position: relative;\n\n          .webBox {\n            cursor: pointer;\n            position: relative;\n            display: flex;\n            justify-content: space-around;\n            background-color: #ffffff;\n            transition: all 0.5s;\n            margin: 5px 5px;\n            border-radius: 5px;\n\n            a {\n              width: 100%;\n              padding: 10px;\n            }\n\n            p {\n              width: 100%;\n              display: flex;\n              align-items: center;\n              justify-content: center;\n              transition: all .5s;\n              font-size: 22px;\n              height: 42px;\n            }\n\n            .jianjie {\n              position: absolute;\n              display: flex;\n              z-index: 9999;\n              opacity: 0;\n              font-size: 16px;\n              border: 1px solid;\n              // display: inline-block;\n              transition: transform 0.5s, opacity 0.5s;\n              background-color: #515051;\n              color: white;\n              padding: 8px 10px;\n              border-radius: 8px;\n              text-align: center;\n              bottom: 50px;\n              // transform: translateY(-25px);\n              left: -5000px;\n            }\n\n            .jianjie::after {\n              content: \"\";\n              position: absolute;\n              bottom: -16px;\n              right: 50%;\n              transform: translateX(50%);\n              border: 8px solid #515051;\n              border-bottom-color: transparent;\n              border-left-color: transparent;\n              border-right-color: transparent;\n            }\n\n            .webUrl {\n              display: flex;\n              align-items: flex-end;\n              width: 98%;\n\n              position: relative;\n\n              div {\n                width: 100%;\n                overflow: hidden; //（文字长度超出限定宽度，则隐藏超出的内容）\n                white-space: nowrap; //（设置文字在一行显示，不能换行）\n                text-overflow: ellipsis; //（规定当文本溢出时，显示省略符号来代表被修剪的文本）\n                height: 100%;\n                line-height: 22px;\n                font-size: 15px;\n              }\n\n              img {\n                width: 20px;\n                height: 20px;\n                margin-right: 5px;\n              }\n            }\n\n            .bianji {\n              visibility: hidden;\n              position: absolute;\n              right: 8px;\n              font-size: 20px;\n              bottom: -3px;\n              color: #a1a1a1;\n            }\n\n            .bianji:hover {\n\n              .on-inline {\n                color: #409eff;\n              }\n            }\n          }\n\n          .webBox:hover {\n            box-shadow: 0 15px 30px rgba(0, 0, 0, .1);\n            transform: translate3d(0, -2px, 0);\n\n            p {\n              color: #0072ea;\n            }\n\n            .webUrl {\n              div {\n                width: 85%;\n              }\n            }\n\n            .jianjie {\n              display: block;\n              opacity: 1;\n              transform: translateY(-10px);\n              left: initial;\n            }\n\n            .bianji {\n              visibility: visible;\n            }\n\n          }\n        }\n\n      }\n    }\n\n\n\n  }\n}\n\n.tanceng {\n  .box {\n    display: flex;\n    // padding: 10px 0;\n    flex-wrap: wrap;\n    position: relative;\n    justify-content: center;\n\n    .webBox {\n      cursor: pointer;\n      position: relative;\n      display: flex;\n      justify-content: space-around;\n      padding: 10px 10px;\n      background-color: #ffffff;\n      transition: all 0.5s;\n      margin: 5px 5px;\n      border-radius: 5px;\n      box-shadow: 0 15px 30px rgba(0, 0, 0, .1);\n      transform: translate3d(0, -2px, 0);\n\n      a {\n        width: 100%;\n      }\n\n      .jianjie {\n        position: absolute;\n        display: flex;\n        z-index: 9999;\n        display: block;\n        border: 1px solid;\n        // display: inline-block;\n        transition: transform 0.5s, opacity 0.5s;\n        background-color: #515051;\n        color: white;\n        padding: 8px 10px;\n        border-radius: 8px;\n        text-align: center;\n        bottom: 50px;\n        // transform: translateY(-25px);\n      }\n\n      .jianjie::after {\n        content: \"\";\n        position: absolute;\n        bottom: -16px;\n        right: 50%;\n        transform: translateX(50%);\n        border: 8px solid #515051;\n        border-bottom-color: transparent;\n        border-left-color: transparent;\n        border-right-color: transparent;\n      }\n\n      .webUrl {\n        display: flex;\n        align-items: flex-end;\n        width: 98%;\n        position: relative;\n\n        div {\n          width: 100%;\n          overflow: hidden; //（文字长度超出限定宽度，则隐藏超出的内容）\n          white-space: nowrap; //（设置文字在一行显示，不能换行）\n          text-overflow: ellipsis; //（规定当文本溢出时，显示省略符号来代表被修剪的文本）\n          line-height: 24px;\n        }\n\n        img {\n          width: 22px;\n          height: 22px;\n          margin-right: 5px;\n        }\n      }\n    }\n\n    .webBox:hover {\n      .jianjie {\n        display: block;\n        opacity: 1;\n        transform: translateY(-10px);\n        left: initial;\n      }\n    }\n  }\n}\n\n.editMode {\n  position: absolute;\n  right: 100px;\n  bottom: 100px;\n  background-color: white;\n  padding: 15px;\n  font-size: 25px;\n  border-radius: 50%;\n  line-height: 100%;\n  cursor: pointer;\n  transition: all .5s;\n  user-select: none;\n  z-index: 10;\n}\n\n.editMode:hover {\n  background-color: #ecf5ff;\n  color: #0072ea;\n}\n\n.sortDialog {\n  .el-dialog__body {\n    padding: 5px !important;\n  }\n}\n\n// 组件过渡动画\n.bounce-enter-active {\n  animation: bounce-in 0.5s;\n}\n\n.bounce-leave-active {\n  animation: bounce-in 0.5s reverse;\n}\n\n@keyframes bounce-in {\n  0% {\n    transform: scale(0);\n  }\n\n  50% {\n    transform: scale(1.25);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n}\n\n/*当页面最大宽小于1920 */\n@media screen and (max-width: 1920px) {\n  .webBox {\n    width: 268px;\n  }\n\n  .el-aside {\n    width: 200px;\n  }\n}\n\n/*当页面最大宽小于400*/\n@media only screen and (max-width: 450px) {\n  .webBox {\n    width: 200px;\n  }\n\n  .el-aside {\n    width: 140px;\n  }\n}\n</style>\n","import script from \"./WebsiteView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./WebsiteView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./WebsiteView.vue?vue&type=style&index=0&id=1f80ddd5&lang=less&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1f80ddd5\"]])\n\nexport default __exports__"],"names":["store","useStore","dispatch","arrey","computed","state","webArry","watchEffect","value","length","childers","ElNotification","title","message","dangerouslyUseHTMLString","duration","callbackMessage","getters","getmessage","divDom","ref","dialogVisible","dialogType","editButton","editMode","isShowEdit","windowWidth","window","innerWidth","tableSortDialog","sortDiaog","addEventListener","dailogData","reactive","selectData","map","item","key","ruleFormRef","urlpass","rule","callback","pass","test","Error","rules","required","trigger","url","validator","imgUrl","edit","childer","index","metaDataId","sort","webName","jianjie","add","Date","getTime","closeDialog","Object","keys","forEach","imgElement","document","getElementById","onload","onerror","confirm","validate","valid","commit","ElMessage","type","saveData","console","log","del","ElMessageBox","confirmButtonText","cancelButtonText","confirmButtonClass","then","data","catch","getImgUrl","URL","origin","async","dbName","storeName","db","IndexDB","newData","id","JSON","stringify","sortTitle","sortFormRule","sortRule","sortModify","sortDel","sortDiaogconfirm","closeSortDialog","scrollbarRef","current","flag","liClick","target","querySelector","scrollTo","top","offsetTop","behavior","showKeys","io","IntersectionObserver","entrys","firstInsetId","isInter","isIntersecting","isFind","findIndex","push","splice","result","threshold","startObser","el","observe","onMounted","content","setTimeout","__exports__"],"sourceRoot":""}