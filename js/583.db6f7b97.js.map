{"version":3,"file":"js/583.db6f7b97.js","mappings":"0iBA0CA,MAAMA,GAAQC,EAAAA,EAAAA,MAERC,GAAQC,EAAAA,EAAAA,KAASC,EAAAA,EAAAA,KAAS,IAAMJ,EAAMK,MAAMC,WAAUC,MAEtDC,GAAeC,EAAAA,EAAAA,MAQfC,GAAUD,EAAAA,EAAAA,IAAI,cACdE,GAAOF,EAAAA,EAAAA,KAAI,GACXG,EAAWC,IACfF,EAAKJ,OAAQ,EACbG,EAAQH,MAAQM,EAOhB,IAAIC,EAASC,SAASC,cAAe,IAAGH,KAExCL,EAAaD,MAAMU,SAAS,CAC1BC,IAAKJ,EAAOK,UAAY,GACxBC,SAAU,UACV,EAYEC,GAAWlB,EAAAA,EAAAA,IAAS,IAG1B,IAAImB,EAAK,IAAIC,sBACVC,IAEC,IAAIC,EAAeD,EAAO,GAAGV,OAAOY,GAChCC,EAAUH,EAAO,GAAGI,eAGxB,GAAID,EAAS,CACX,IAAIE,EAASR,EAASS,WAAWC,GAASA,GAAQN,KACnC,GAAXI,GACFR,EAASW,KAAKP,EAElB,KAAO,CACL,IAAIQ,EAAQZ,EAASS,WAAWC,GAASA,GAAQN,KAClC,IAAXQ,GACFZ,EAASa,OAAOD,EAAO,EAE3B,CAEA,GAAItB,EAAKJ,MAAO,OAChB,IAAI4B,EAAS,GACb,IAAK,MAAMJ,KAAQ7B,EACjB,IAAuD,IAAnDmB,EAASS,WAAWjB,GAAQA,IAAQkB,EAAKlB,MAAa,CACxDsB,EAASJ,EAAKlB,IACd,KACF,CAEFH,EAAQH,MAAQ4B,CAAM,GAExB,CAAEC,UAAW,CAAC,EAAG,IAAM,GAAK,MAG9BC,EAAAA,EAAAA,KAAY,KACV,GAAI1B,EAAKJ,MAAO,OAChB,IAAI4B,EAAS,GAEb,IAAK,MAAMJ,KAAQ7B,EACjB,IAAuD,IAAnDmB,EAASS,WAAWjB,GAAQA,IAAQkB,EAAKlB,MAAa,CACxDsB,EAASJ,EAAKlB,IACd,KACF,CAEFH,EAAQH,MAAQ4B,CAAM,IAGxB,MAAMG,EAAaA,MACjBC,EAAAA,EAAAA,KAAS,KACP,IAAK,MAAMR,KAAQ7B,EAAO,CACxB,IAAIsC,EAAKzB,SAASC,cAAe,IAAGe,EAAKlB,OACzCQ,EAASW,KAAKD,EAAKlB,KACnBS,EAAGmB,QAAQD,EACb,IACA,E,OAEJE,EAAAA,EAAAA,KAAU,KACR,IAAIC,EAAU5B,SAASC,cAAc,sBACrC2B,EAAQC,iBAAiB,cAAc,KAErCjC,EAAKJ,OAAQ,CAAK,IAEpB+B,GAAY,I,iwCC3Id,MAAMO,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://doudou-nav/./src/views/WebsiteView.vue","webpack://doudou-nav/./src/views/WebsiteView.vue?8124"],"sourcesContent":["<template>\n  <el-container class=\"common-layout\">\n    <el-aside>\n      <el-scrollbar>\n        <div class=\"website-left\">\n          <div class=\"website-left-box\" v-for=\"(item, index) in arrey\" key=\"index\">\n            <div :class=\"{ active: item.key == current }\" @click=\"liClick(item.key)\">\n              {{ item.title }}</div>\n          </div>\n        </div>\n      </el-scrollbar>\n    </el-aside>\n    <el-main>\n      <el-scrollbar ref=\"scrollbarRef\">\n        <div style=\"height: 40px;\"></div>\n        <div class=\"website-right-box\">\n          <div class=\"website-right-title\" v-for=\"(item, index) in arrey\" :key=\"index\" :id=\"item.key\">\n            <h2>{{ item.title }}</h2>\n            <!-- <el-divider /> -->\n            <div class=\"box\">\n              <a class=\"webBox\" :href=\"res.url\" target=\"_blank\" v-for=\"(res, index) in item.childers\" :key=\"index\">\n                <template v-if=\"res.jianjie\">\n                  <div class=\"jianjie\">{{ res.jianjie }}</div>\n                </template>\n                <div class=\"webUrl\">\n                  <img :src=\"res.imgUrl ? res.imgUrl : 'https://img.bidianer.com/image/icon/empty.svg'\" alt=\"\">\n                  <div>{{ res.webName }}</div>\n                </div>\n              </a>\n            </div>\n          </div>\n        </div>\n      </el-scrollbar>\n    </el-main>\n  </el-container>\n</template>\n<script setup>\nimport { inject, provide, ref, onMounted, computed, reactive, nextTick, watchEffect } from 'vue';\nimport { useRouter } from 'vue-router'\nimport { useStore } from 'vuex';\n\n\nconst store = useStore()\n\nconst arrey = reactive(computed(() => store.state.webArry)).value\n// console.log(arrey);\nconst scrollbarRef = ref();\n// console.log(arrey)\n// console.log(useRouter());\n// const go = (key, e) => {\n//   console.log(e)\n//   document.getElementById(key).scrollIntoView({ behavior: 'smooth' });\n// }\n\nconst current = ref(\"freeMovies\");\nconst flag = ref(false);\nconst liClick = (key) => {\n  flag.value = true;\n  current.value = key;\n\n  /* \n  获取到key 然后渠道对应的元素 进行滚动\n   */\n  // 获取父级容器\n  // let content = document.querySelector(\".website-right-box\");\n  let target = document.querySelector(`#${key}`);\n  // document.getElementById(key).scrollIntoView({ behavior: 'smooth', inline: 'start' });\n  scrollbarRef.value.scrollTo({\n    top: target.offsetTop - 40,\n    behavior: \"smooth\",\n  })\n\n  // content.scrollTo({\n  //   // 距离顶部导航栏的距离\n  //   top: target.offsetTop - 60,\n  //   behavior: \"smooth\",\n  // });\n\n\n};\n\n// 所有dom元素的id\nconst showKeys = reactive([]);\n// -----交叉观察器\n\nlet io = new IntersectionObserver(\n  (entrys) => {\n    // console.log(\"进入视口--\", entrys[0].target.id);\n    let firstInsetId = entrys[0].target.id;\n    let isInter = entrys[0].isIntersecting;\n    // console.log(11111, isInter);\n\n    if (isInter) {\n      let isFind = showKeys.findIndex((item) => item == firstInsetId);\n      if (isFind == -1) {\n        showKeys.push(firstInsetId);\n      }\n    } else {\n      let index = showKeys.findIndex((item) => item == firstInsetId);\n      if (index !== -1) {\n        showKeys.splice(index, 1);\n      }\n    }\n\n    if (flag.value) return; //----放开是另一种效果\n    let result = \"\";\n    for (const item of arrey) {\n      if (showKeys.findIndex((key) => key === item.key) !== -1) {\n        result = item.key;\n        break;\n      }\n    }\n    current.value = result;\n  },\n  { threshold: [0, 0.25, 0.5, 1] }\n);\n\nwatchEffect(() => {\n  if (flag.value) return;//----放开是另一种效果\n  let result = \"\";\n\n  for (const item of arrey) {\n    if (showKeys.findIndex((key) => key === item.key) !== -1) {\n      result = item.key;\n      break;\n    }\n  }\n  current.value = result;\n});\n\nconst startObser = () => {\n  nextTick(() => {\n    for (const item of arrey) {\n      let el = document.querySelector(`#${item.key}`);\n      showKeys.push(item.key);\n      io.observe(el);\n    }\n  })\n};\nonMounted(() => {\n  let content = document.querySelector(\".website-right-box\");\n  content.addEventListener(\"mousewheel\", () => {\n\n    flag.value = false;\n  });\n  startObser();\n});\n</script>\n<style lang=\"less\" scoped>\n.common-layout {\n  height: calc(100vh - 60px);\n\n  .el-aside {\n    // max-width: 200px !important;\n    margin-top: 40px;\n\n    .website-left {\n      padding: 10px;\n      padding-left: 20px;\n      background-color: white;\n      border-radius: 10px;\n\n      .website-left-box {\n        div {\n          transition: all .5s;\n          font-size: 14px;\n          line-height: 40px;\n          cursor: pointer;\n          border: 1px solid transparent;\n          border-radius: 5px;\n          margin: 5px 0;\n        }\n\n        div:hover {\n          color: #409eff;\n          background-color: #ecf5ff;\n          padding-left: 20px;\n        }\n\n        div.active {\n          color: #409eff;\n          background-color: #ecf5ff;\n          padding-left: 20px;\n        }\n      }\n    }\n\n\n  }\n\n  .el-main {\n    margin: 0 auto;\n    padding: 0;\n    max-width: 1400px;\n    height: 100%;\n    transition: all .5s;\n\n    .website-right-box {\n      padding: 0 10px 0 20px;\n      height: 100%;\n\n      .website-right-title {\n        padding-top: 10px;\n\n        h2 {\n          color: #333;\n          font-weight: 400;\n          font-size: 22px;\n        }\n\n        .el-divider {\n          margin-top: 10px;\n          margin-bottom: 0;\n        }\n\n        .box {\n          display: flex;\n          padding: 10px 0;\n          flex-wrap: wrap;\n\n          .webBox {\n            cursor: pointer;\n            position: relative;\n            display: flex;\n            justify-content: space-around;\n            padding: 10px 10px;\n            background-color: #ffffff;\n            transition: all 0.5s;\n            margin: 5px 5px;\n            border-radius: 5px;\n\n            .jianjie {\n              position: absolute;\n              display: flex;\n              z-index: 9999;\n              opacity: 0;\n              border: 1px solid;\n              display: inline-block;\n              transition: transform 0.5s, opacity 0.5s;\n              background-color: #515051;\n              color: white;\n              padding: 8px 10px;\n              border-radius: 8px;\n              text-align: center;\n              bottom: 50px;\n              // transform: translateY(-25px);\n              left: -5000px;\n            }\n\n            .jianjie::after {\n              content: \"\";\n              position: absolute;\n              bottom: -16px;\n              right: 50%;\n              transform: translateX(50%);\n              border: 8px solid #515051;\n              border-bottom-color: transparent;\n              border-left-color: transparent;\n              border-right-color: transparent;\n\n            }\n\n            .webUrl {\n              display: flex;\n              align-items: flex-end;\n              width: 100%;\n\n              img {\n                width: 22px;\n                margin-right: 5px;\n              }\n            }\n          }\n\n          .webBox:hover {\n            box-shadow: 0 15px 30px rgba(0, 0, 0, .1);\n            transform: translate3d(0, -2px, 0);\n\n            .jianjie {\n              display: block;\n              opacity: 1;\n              transform: translateY(-10px);\n              left: initial;\n            }\n          }\n        }\n\n      }\n    }\n\n\n\n  }\n}\n\n/*当页面最大宽小于1920 */\n@media screen and (max-width: 1920px) {\n  .webBox {\n    width: 268px;\n  }\n\n  .el-aside {\n    width: 200px;\n  }\n}\n\n/*当页面最大宽小于400*/\n@media only screen and (max-width: 400px) {\n  .webBox {\n    width: 200px;\n  }\n\n  .el-aside {\n    width: 140px;\n  }\n}\n</style>\n","import script from \"./WebsiteView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./WebsiteView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./WebsiteView.vue?vue&type=style&index=0&id=c697c6d0&lang=less&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c697c6d0\"]])\n\nexport default __exports__"],"names":["store","useStore","arrey","reactive","computed","state","webArry","value","scrollbarRef","ref","current","flag","liClick","key","target","document","querySelector","scrollTo","top","offsetTop","behavior","showKeys","io","IntersectionObserver","entrys","firstInsetId","id","isInter","isIntersecting","isFind","findIndex","item","push","index","splice","result","threshold","watchEffect","startObser","nextTick","el","observe","onMounted","content","addEventListener","__exports__"],"sourceRoot":""}